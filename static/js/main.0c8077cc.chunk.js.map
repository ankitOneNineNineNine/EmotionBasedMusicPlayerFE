{"version":3,"sources":["reduxComponents/action.js","reduxComponents/constants.js","views/listSelect.jsx","views/imageDisplay.jsx","helpers/toaster.js","container/emotionCam.jsx","container/player.jsx","helpers/shuffleArr.js","helpers/songs.js","container/form.jsx","portals/modal.js","container/profile.jsx","App.js","reportWebVitals.js","reduxComponents/reducer.js","swDev.js","index.js"],"names":["setUser","user","type","SET_USER","payload","ListSelect","shown","lists","listSelected","nowPlaying","stylex","zIndex","display","content","map","list","i","onClick","style","background","id","ImageDisplay","cam","url","goBack","send","setcanvUri","canvRef","useRef","useEffect","current","getContext","drawImage","width","height","uri","toDataURL","margin","ref","src","alt","className","options","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","dispError","err","response","data","msg","toast","error","dispSuccess","success","EmotionCam","displayEmotion","setEmPl","findEmotion","fileRef","videoRef","useState","imageSelect","setImageSelect","file","setFile","setURL","emotion","setEmotion","camShow","setCamShow","setCam","camImgUri","setCamImgUri","length","a","navigator","mediaDevices","getUserMedia","video","stream","window","srcObject","getTracks","forEach","track","stop","fontWeight","textAlign","fontSize","e","preventDefault","axios","method","then","obj","tf","model","canvImg","Image","cnvs","document","createElement","ctx","onload","x","y","tensor","fromPixels","div","toFloat","expandDims","predict","prediction","emotions","index","Object","values","findIndex","p","Math","max","catch","formData","FormData","append","headers","autoPlay","click","onChange","target","files","URL","createObjectURL","PlayerButton","lazy","BottomIcons","SongDesc","SongLists","TopIcons","Player","allSongs","playlistFromEmotion","dispProfile","playlistToggle","setplaylistToggle","listSelectToggle","setListSelectToggle","playlistDisplay","setPlaylistDisplay","playlist","setPlaylist","playing","setPlaying","currentSong","setCurrentSong","currentMusicTime","setCurrentMusicTime","maxSongDuration","setMaxSongDuration","wishlisted","setWishlisted","retweeted","setRetweeted","audioRef","songFilter","filter","songs","addEventListener","duration","currentTime","play","pause","getIndex","arr","item","indexOf","song","push","fallback","topIconHandler","arg","color","playThis","currentPlaying","img","title","artist","playerButtonHandler","ind","array","temporaryValue","randomIndex","currentIndex","floor","random","shuffle","changeCurrentMusicTime","value","songName","rightColor","leftColor","handleBottomButtons","Form","formChange","name","setState","prev","formDet","validator","state","includes","takenEmail","takenUserName","formErr","submit","forgotP","email","_","every","register","localStorage","setItem","JSON","stringify","token","props","userName","dispForm","password","record","this","htmlFor","href","React","Component","connect","dispatch","modal","getElementById","Modal","el","appendChild","removeChild","ReactDOM","createPortal","children","styleX","padding","borderRadius","border","displat","marginTop","FormContext","createContext","setPlaylistFromEmotion","emotionFinder","setEmotionFinder","formDisplay","setFormDisplay","profileDisp","setProfileDisp","Authorization","parse","getItem","console","log","clear","val","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","getUserLoading","vapidPublicKey","webpush","generateVAPIDKeys","publicKey","logger","createLogger","store","createStore","action","applyMiddleware","thunkMiddleware","render","StrictMode","App","convertedVapidKey","base64String","base64","repeat","replace","rawData","atob","outputArray","Uint8Array","charCodeAt","urlBase64ToUint8Array","swURL","process","serviceWorker","pushManager","getSubscription","subscription","subscribe","userVisibleOnly","applicationServerKey","swDev"],"mappings":"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","file":"static/js/main.0c8077cc.chunk.js","sourcesContent":["import {\r\n    SET_USER\r\n} from './constants'\r\nexport const setUser = (user) => ({\r\n    type:SET_USER,\r\n    payload: user\r\n})\r\n\r\n","export const SET_USER = 'SET_USER';\r\n","import React from \"react\";\r\n\r\nexport default function ListSelect({ shown, lists, listSelected, nowPlaying }) {\r\n  let stylex = shown\r\n    ? { zIndex: \"1\", display: \"block\" }\r\n    : { zIndex: \"-1\", display: \"none\" };\r\n  let content = lists\r\n    ? lists.map((list, i) => {\r\n        return (\r\n          <h2\r\n            key={i}\r\n            onClick={() => listSelected(list)}\r\n            style={nowPlaying === list ? { background: \"green\" } : {}}\r\n          >\r\n            {list} Songs\r\n          </h2>\r\n        );\r\n      })\r\n    : null;\r\n  return (\r\n    <div id=\"list-select\" style={stylex}>\r\n      {content}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useRef } from \"react\";\r\n\r\nexport default function ImageDisplay({ cam, url, goBack, send, setcanvUri }) {\r\n  const canvRef = useRef(null);\r\n  useEffect(() => {\r\n    if (cam) {\r\n      const ctx = canvRef.current.getContext(\"2d\");\r\n      ctx.drawImage(url, 0, 0, canvRef.current.width, canvRef.current.height);\r\n      let uri = canvRef.current.toDataURL();\r\n      setcanvUri(uri);\r\n    }\r\n  }, [canvRef, cam, url]);\r\n  return (\r\n    <>\r\n      {cam ? (\r\n        <canvas\r\n          style={{ display: \"block\", margin: \"auto\" }}\r\n          ref={canvRef}\r\n          width=\"400\"\r\n          height=\"400\"\r\n        ></canvas>\r\n      ) : (\r\n        <img\r\n          src={url}\r\n          alt=\"userImage\"\r\n          style={{\r\n            width: \"400px\",\r\n            height: \"400px\",\r\n            display: \"block\",\r\n            margin: \"auto\",\r\n          }}\r\n        />\r\n      )}\r\n      <button className=\"designedButton\" onClick={goBack}>\r\n        Go Back\r\n      </button>\r\n      <button className=\"designedButton\" onClick={send} id=\"done\">\r\n        Send\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n","import { toast } from \"react-toastify\";\r\n\r\nconst options = {\r\n    position: \"bottom-left\",\r\n    autoClose: 5000,\r\n    hideProgressBar: false,\r\n    closeOnClick: true,\r\n    pauseOnHover: true,\r\n    draggable: true,\r\n    progress: undefined,\r\n  }\r\nexport const dispError = (err)=>{\r\n    if(err && err.response && err.response.data && err.response.data.msg)\r\n        toast.error(err.response.data.msg, options);\r\n}\r\nexport const dispSuccess = (msg)=>{\r\n    toast.success(msg, options)\r\n}\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport ImageDisplay from \"../views/imageDisplay\";\r\nimport axios from \"axios\";\r\nimport { dispError, dispSuccess } from \"../helpers/toaster\";\r\nimport * as tf from \"@tensorflow/tfjs\";\r\n\r\nconst EmotionCam = ({ setEmPl, findEmotion }) => {\r\n  const fileRef = useRef(null);\r\n\r\n  const videoRef = useRef(null);\r\n  const [imageSelect, setImageSelect] = useState(false);\r\n  const [file, setFile] = useState(null);\r\n  const [url, setURL] = useState(\"\");\r\n  const [emotion, setEmotion] = useState(null);\r\n  const [camShow, setCamShow] = useState(false);\r\n  const [cam, setCam] = useState(false);\r\n  const [camImgUri, setCamImgUri] = useState(undefined);\r\n  const inputChange = (e) => {\r\n    let file = e.target.files[0];\r\n    setFile(file);\r\n    setURL(URL.createObjectURL(file));\r\n    setCam(false);\r\n  };\r\n  const setcanvUri = (uri) => {\r\n    setCamImgUri(uri);\r\n  };\r\n\r\n  const send = (e) => {\r\n    e.preventDefault();\r\n    if (cam) {\r\n      axios({\r\n        url: `http://localhost:8000/emotion`,\r\n        method: \"POST\",\r\n        data: {\r\n          uri: camImgUri,\r\n        },\r\n      })\r\n        .then(async (data) => {\r\n          let obj = data.data;\r\n          var model = await tf.loadLayersModel(\r\n            \"http://localhost:8000/models/model.json\"\r\n          );\r\n          var canvImg = new Image();\r\n          canvImg.src = camImgUri;\r\n          const cnvs = document.createElement(\"canvas\");\r\n          cnvs.width = 48;\r\n          cnvs.height = 48;\r\n          const ctx = cnvs.getContext(\"2d\");\r\n          canvImg.onload = async () => {\r\n            ctx.drawImage(\r\n              canvImg,\r\n              obj.x,\r\n              obj.y,\r\n              obj.width,\r\n              obj.height,\r\n              0,\r\n              0,\r\n              cnvs.width,\r\n              cnvs.height\r\n            );\r\n            const tensor = tf.browser\r\n              .fromPixels(cnvs, 1)\r\n              .div(255)\r\n              .toFloat()\r\n              .expandDims(0);\r\n\r\n            const prediction = await model.predict(tensor).data();\r\n            var emotions = [\r\n              \"Angry\",\r\n              \"Disgust\",\r\n              \"Fear\",\r\n              \"Happy\",\r\n              \"Sad\",\r\n              \"Surprise\",\r\n              \"Neutral\",\r\n            ];\r\n            var index = Object.values(prediction).findIndex(\r\n              (p) => p === Math.max(...Object.values(prediction))\r\n            );\r\n            setEmotion(emotions[index]);\r\n            setEmPl(emotions[index]);\r\n            dispSuccess(emotions[index]);\r\n          };\r\n        })\r\n        .catch((err) => {\r\n          dispError(err);\r\n        });\r\n    } else {\r\n      var formData = new FormData();\r\n      formData.append(\"img\", file);\r\n      axios({\r\n        url: `http://localhost:8000/emotion`,\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        },\r\n        data: formData,\r\n      })\r\n        .then(async (data) => {\r\n          let obj = data.data;\r\n          var model = await tf.loadLayersModel(\r\n            \"http://localhost:8000/models/model.json\"\r\n          );\r\n          var canvImg = new Image();\r\n          canvImg.src = url;\r\n          const cnvs = document.createElement(\"canvas\");\r\n          cnvs.width = 48;\r\n          cnvs.height = 48;\r\n          const ctx = cnvs.getContext(\"2d\");\r\n          canvImg.onload = async () => {\r\n            ctx.drawImage(\r\n              canvImg,\r\n              obj.x,\r\n              obj.y,\r\n              obj.width,\r\n              obj.height,\r\n              0,\r\n              0,\r\n              cnvs.width,\r\n              cnvs.height\r\n            );\r\n            const tensor = tf.browser\r\n              .fromPixels(cnvs, 1)\r\n              .div(255)\r\n              .toFloat()\r\n              .expandDims(0);\r\n\r\n            const prediction = await model.predict(tensor).data();\r\n            var emotions = [\r\n              \"Angry\",\r\n              \"Disgust\",\r\n              \"Fear\",\r\n              \"Happy\",\r\n              \"Sad\",\r\n              \"Surprise\",\r\n              \"Neutral\",\r\n            ];\r\n            var index = Object.values(prediction).findIndex(\r\n              (p) => p === Math.max(...Object.values(prediction))\r\n            );\r\n            setEmotion(emotions[index]);\r\n            setEmPl(emotions[index]);\r\n            dispSuccess(emotions[index]);\r\n          };\r\n        })\r\n        .catch((err) => {\r\n          dispError(err);\r\n        });\r\n    }\r\n  };\r\n  const imageSelectGoBack = () => {\r\n    setImageSelect(false);\r\n  };\r\n  const captured = (e) => {\r\n    e.preventDefault();\r\n    setURL(videoRef.current);\r\n    setCamShow(false);\r\n    setCam(true);\r\n    setImageSelect(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (url.length) setImageSelect(true);\r\n    (async function () {\r\n      if (camShow) {\r\n        let stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n        window.stream = stream;\r\n        videoRef.current.srcObject = stream;\r\n      } else {\r\n        if (window.stream) {\r\n          window.stream.getTracks().forEach(function (track) {\r\n            track.stop();\r\n          });\r\n        }\r\n      }\r\n    })();\r\n  }, [url, emotion, camShow]);\r\n  var displayEmotion;\r\n  if (emotion && imageSelect) {\r\n    displayEmotion = (\r\n      <p\r\n        style={{\r\n          fontWeight: \"bolder\",\r\n          textAlign: \"center\",\r\n          fontSize: \"2em\",\r\n          background: \"black\",\r\n        }}\r\n      >\r\n        Emotion is {emotion}\r\n      </p>\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <span onClick={() => findEmotion(false)}>&times;</span>\r\n      {imageSelect ? (\r\n        <ImageDisplay\r\n          cam={cam}\r\n          url={url}\r\n          goBack={imageSelectGoBack}\r\n          send={send}\r\n          setcanvUri={setcanvUri}\r\n        />\r\n      ) : (\r\n        <>\r\n          {!camShow ? (\r\n            <div className=\"choose\">\r\n              <div\r\n                className=\"file\"\r\n                onClick={() => {\r\n                  fileRef.current.click();\r\n                }}\r\n              >\r\n                <i className=\"fa fa-file-image fa-5x\"></i>\r\n                <h3>Choose from a File</h3>\r\n                <input\r\n                  id=\"fileChoose\"\r\n                  type=\"file\"\r\n                  ref={fileRef}\r\n                  onChange={inputChange}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"camera\" onClick={() => setCamShow(true)}>\r\n                <i className=\"fa fa-camera fa-5x\"></i>\r\n                <h3>Capture from Camera</h3>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <video\r\n                style={{ display: \"block\", margin: \"auto\" }}\r\n                ref={videoRef}\r\n                width=\"400\"\r\n                height=\"400\"\r\n                autoPlay\r\n              />\r\n              <button className=\"designedButton\" onClick={captured}>\r\n                Capture\r\n              </button>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n      {displayEmotion}\r\n    </>\r\n  );\r\n};\r\nexport default EmotionCam;\r\n","import React, { useState, useRef, useEffect, lazy, Suspense } from \"react\";\r\n// import BottomIcons from \"../views/bottomIcons\";\r\nimport ListSelect from \"../views/listSelect\";\r\n// import PlayerButton from \"../views/playerButtons.jsx\";\r\n// import SongDesc from \"../views/songDesc\";\r\n// import SongLists from \"../views/songLists\";\r\n// import TopIcons from \"../views/topIcons\";\r\n\r\nimport shuffle from \"../helpers/shuffleArr\";\r\nimport EmotionCam from \"./emotionCam\";\r\nconst PlayerButton = lazy(() => import(\"../views/playerButtons.jsx\"));\r\nconst BottomIcons = lazy(() => import(\"../views/bottomIcons\"));\r\nconst SongDesc = lazy(() => import(\"../views/songDesc\"));\r\nconst SongLists = lazy(() => import(\"../views/songLists\"));\r\nconst TopIcons = lazy(() => import(\"../views/topIcons\"));\r\n\r\nexport default function Player({\r\n  allSongs,\r\n  playlistFromEmotion,\r\n  findEmotion,\r\n  dispProfile,\r\n}) {\r\n  const [playlistToggle, setplaylistToggle] = useState(false);\r\n  const [listSelectToggle, setListSelectToggle] = useState(false);\r\n  const [playlistDisplay, setPlaylistDisplay] = useState(\"Happy\");\r\n  const [playlist, setPlaylist] = useState(null);\r\n  const [playing, setPlaying] = useState(false);\r\n  const [currentSong, setCurrentSong] = useState(null);\r\n  const [currentMusicTime, setCurrentMusicTime] = useState(0);\r\n  const [maxSongDuration, setMaxSongDuration] = useState(0);\r\n  const [wishlisted, setWishlisted] = useState(false);\r\n  const [retweeted, setRetweeted] = useState(false);\r\n\r\n  const audioRef = useRef(null);\r\n  useEffect(() => {\r\n    (async function () {})();\r\n    let songFilter = allSongs.filter(\r\n      (songs) => songs.emotion === playlistDisplay\r\n    );\r\n    setPlaylist(songFilter);\r\n    setCurrentSong(songFilter[0]);\r\n  }, []);\r\n  useEffect(() => {\r\n    (async function () {\r\n      audioRef.current.addEventListener(\"loadedmetadata\", async () => {\r\n        if (audioRef.current)\r\n          setMaxSongDuration(await audioRef.current.duration);\r\n      });\r\n      audioRef.current.addEventListener(\"timeupdate\", async () => {\r\n        if (audioRef.current)\r\n          setCurrentMusicTime(await audioRef.current.currentTime);\r\n      });\r\n      if (currentSong) {\r\n        if (retweeted) setPlaylist([currentSong]);\r\n        else {\r\n          let songFilter = allSongs.filter(\r\n            (songs) => songs.emotion === playlistDisplay\r\n          );\r\n          setPlaylist(songFilter);\r\n        }\r\n      }\r\n      if (playlistFromEmotion && playlistFromEmotion !== playlistDisplay) {\r\n        let songFilter = allSongs.filter(\r\n          (songs) => songs.emotion === playlistFromEmotion\r\n        );\r\n        setPlaylistDisplay(playlistFromEmotion);\r\n        setPlaylist(songFilter);\r\n        setCurrentSong(songFilter[0]);\r\n      }\r\n      if (playing) {\r\n        audioRef.current.play();\r\n      } else {\r\n        audioRef.current.pause();\r\n      }\r\n    })();\r\n  }, [currentSong, playing, retweeted, playlistDisplay, playlistFromEmotion]);\r\n\r\n  const changeCurrentMusicTime = (value) => {\r\n    if (value !== audioRef.current.currentTime) {\r\n      audioRef.current.currentTime = value;\r\n      setCurrentMusicTime(value);\r\n    }\r\n  };\r\n  const playThis = (song) => {\r\n    setCurrentSong(song);\r\n    setPlaylistDisplay(song.emotion);\r\n    setPlaying(true);\r\n  };\r\n  const topIconHandler = (arg) => {\r\n    if (arg === \"wishlist\") {\r\n      setWishlisted((wishlisted) => !wishlisted);\r\n    } else if (arg === \"emotionFinder\") {\r\n      findEmotion(true);\r\n    }\r\n  };\r\n  const getIndex = (arr, item) => {\r\n    return arr.indexOf(item);\r\n  };\r\n  const playerButtonHandler = (arg) => {\r\n    if (arg === \"play-pause\") {\r\n      setPlaying((playing) => !playing);\r\n    } else if (arg === \"next\") {\r\n      let ind = getIndex(playlist, currentSong);\r\n\r\n      ind = ind === playlist.length - 1 ? -1 : ind;\r\n      setCurrentSong(playlist[ind + 1]);\r\n    } else if (arg === \"previous\") {\r\n      let ind = getIndex(playlist, currentSong);\r\n      ind = ind === 0 ? playlist.length : ind;\r\n      setCurrentSong(playlist[ind - 1]);\r\n    } else if (arg === \"retweet\") {\r\n      setRetweeted(!retweeted);\r\n    } else if (arg === \"random\") {\r\n      setPlaylist((playlist) => shuffle(playlist));\r\n    }\r\n  };\r\n  const handleBottomButtons = (arg) => {\r\n    if (arg === \"playlist\") {\r\n      setplaylistToggle((playlistToggle) => !playlistToggle);\r\n    } else if (arg === \"listSelector\") {\r\n      setListSelectToggle((listSelectToggle) => !listSelectToggle);\r\n    }\r\n  };\r\n  const listSelected = (emotion) => {\r\n    if (emotion) {\r\n      setplaylistToggle(true);\r\n      setPlaylistDisplay(emotion);\r\n      setListSelectToggle(false);\r\n    }\r\n  };\r\n  let arr = [];\r\n  allSongs.forEach((song) => {\r\n    if (arr.indexOf(song.emotion) < 0) {\r\n      arr.push(song.emotion);\r\n    }\r\n  });\r\n  return (\r\n    <div className=\"bg\">\r\n      <>\r\n        <audio ref={audioRef} src={currentSong ? currentSong.src : \"\"} />\r\n      </>\r\n      <section className=\"player\">\r\n        <div className=\"container\">\r\n          <Suspense fallback={<div>Loading...</div>}>\r\n            <TopIcons\r\n              topIconHandler={topIconHandler}\r\n              dispProfile={dispProfile}\r\n              color={wishlisted ? \"red\" : \"black\"}\r\n            />\r\n\r\n            {playlistToggle ? (\r\n              <SongLists\r\n                songs={playlist}\r\n                emotion={playlistDisplay}\r\n                playThis={playThis}\r\n                currentPlaying={currentSong}\r\n                playing={playing}\r\n              />\r\n            ) : (\r\n              <SongDesc\r\n                img={currentSong ? currentSong.img : \"\"}\r\n                max={maxSongDuration}\r\n                title={currentSong ? currentSong.title : \"\"}\r\n                artist={currentSong ? currentSong.artist : \"\"}\r\n                currentTime={currentMusicTime}\r\n              />\r\n            )}\r\n\r\n            <PlayerButton\r\n              playerButtonHandler={playerButtonHandler}\r\n              playing={playing ? true : false}\r\n              changeCurrentMusicTime={changeCurrentMusicTime}\r\n              currentMusicTime={currentMusicTime}\r\n              max={maxSongDuration}\r\n            />\r\n\r\n            <BottomIcons\r\n              songName={playlistToggle ? currentSong.title : null}\r\n              rightColor={listSelectToggle ? \"blue\" : \"black\"}\r\n              leftColor={playlistToggle ? \"blue\" : \"black\"}\r\n              handleBottomButtons={handleBottomButtons}\r\n            />\r\n          </Suspense>\r\n        </div>\r\n        {listSelectToggle ? (\r\n          <ListSelect\r\n            shown=\"true\"\r\n            listSelected={listSelected}\r\n            lists={arr}\r\n            nowPlaying={currentSong ? currentSong.emotion : playlistDisplay}\r\n          />\r\n        ) : null}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n","export default function shuffle(array){\r\n    var currentIndex = array.length,\r\n    temporaryValue,\r\n    randomIndex;\r\n\r\n// While there remain elements to shuffle...\r\nwhile (0 !== currentIndex) {\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n\r\n    // And swap it with the current element.\r\n    temporaryValue = array[currentIndex];\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n}\r\n\r\nreturn array;\r\n}","// const songs = [{\r\n//     title: 'Aankhein Milayenge Darr Se',\r\n//     artist: 'K. MOHAN,NEHA BHASIN',\r\n//     emotion: 'Fear',\r\n//     src: 'http://localhost:8000/music/Aankhein Milayenge Darr Se Video Song Neerja Sonam Kapoor Prasoon Joshi T-Series.mp3',\r\n//     img: 'http://localhost:8000/images/Aankhein Milayenge Darr Se.jpeg'\r\n// },\r\n// {\r\n//     title: 'Pachtaoge',\r\n//     artist: 'Arijit Singh',\r\n//     emotion: 'Sad',\r\n//     src: 'http://localhost:8000/music/Arijit Singh Pachtaoge Vicky Kaushal, Nora Fatehi Jaani, B Praak, Arvindr Khaira Bhushan K.mp3',\r\n//     img: 'http://localhost:8000/images/Pachtaoge.png'\r\n// }, {\r\n//     title: 'Bhaag D.K Bose',\r\n//     artist: 'Azee Jzee Music',\r\n//     emotion: 'Disgust',\r\n//     src: 'http://localhost:8000/music/Bhaag D.K Bose - Delhi Belly720p HD.mp3',\r\n//     img: 'http://localhost:8000/images/Bhaag DK Bose.jpg'\r\n// }, {\r\n//     title: 'Allare',\r\n//     artist: \"Deepak Bajracharya\",\r\n//     emotion: 'Happy',\r\n//     src: 'http://localhost:8000/music/Deepak Bajracharya - AllareNew Nepali Song.mp3',\r\n//     img: 'http://localhost:8000/images/Allare.jpg'\r\n// }, {\r\n//     title: 'Tu Hi Yaar Mera',\r\n//     artist: 'Rochak,Arijit Singh,Neha Kakkar',\r\n//     emotion: 'Neutral',\r\n//     src: 'http://localhost:8000/music/Full VideoTu Hi Yaar Mera Pati Patni Aur Woh Kartik A,Bhumi P,Ananya P Rochak,Arijit S,Neh.mp3',\r\n//     img: 'http://localhost:8000/images/Tu Hi Yaar Mera.png'\r\n// }, {\r\n//     title: 'Basket Case',\r\n//     artist: 'Green Day',\r\n//     emotion: 'Angry',\r\n//     src: 'http://localhost:8000/music/Green Day - Basket Case [Official Music Video].mp3',\r\n//     img: 'http://localhost:8000/images/Basket Case.jpg'\r\n// }, {\r\n//     title: 'Jaula Relaima',\r\n//     artist: 'Kamal Khatri,Simple Kharel',\r\n//     emotion: 'Neutral',\r\n//     src: 'http://localhost:8000/music/JAULA RELAIMA - Simpal KharelNew Nepali Song 2020Official Music Video ( FEMALE VERSION ).mp3',\r\n//     img: 'http://localhost:8000/images/Jaula Relaima.jfif'\r\n// }, {\r\n//     title: 'JEE KARDA',\r\n//     artist: 'Divya Kumar',\r\n//     emotion: 'Angry',\r\n//     src: 'http://localhost:8000/music/Jee Karda (Official Full Song) Badlapur Varun Dhawan & Yami Gautam.mp3',\r\n//     img: 'http://localhost:8000/images/JEE KARDA.jfif'\r\n// }, {\r\n//     title: 'Absence of fear',\r\n//     artist: 'Jewel',\r\n//     emotion: 'Fear',\r\n//     src: 'http://localhost:8000/music/JEWEL - Absence of fear (with Lyrics).mp3',\r\n//     img: 'http://localhost:8000/images/Absence of fear.jpg'\r\n// }, {\r\n//     title: 'Lai Lai',\r\n//     artist: 'Ketan Chettri',\r\n//     emotion: 'Sad',\r\n//     src: 'http://localhost:8000/music/Lai Lai -Prasad Nepali Movie Lyrical Song Video Bipin Karki, Nischal Basnet, Namrata Shrest.mp3',\r\n//     img: 'http://localhost:8000/images/Lai Lai.jpg'\r\n// },{\r\n//     title: 'Smells Like Teen Spirit',\r\n//     artist: 'Nirvana',\r\n//     emotion: 'Happy',\r\n//     src: 'http://localhost:8000/music/Official Clip from La La Land - John Legend - Start a Fire.mp3',\r\n//     img: 'http://localhost:8000/images/Start A Fire.jfif'\r\n// }, {\r\n//     title: 'Boneyards',\r\n//     artist: 'Parkway Drive',\r\n//     emotion: 'Disgust',\r\n//     src: 'http://localhost:8000/music/Parkway Drive - Boneyards.mp3',\r\n//     img: 'http://localhost:8000/images/Boneyards.jpg'\r\n// }, {\r\n//     title: 'Colors Of The Rainbow',\r\n//     artist: 'Sevenn,Kathy',\r\n//     emotion: 'Neutral',\r\n//     src: 'http://localhost:8000/music/Sevenn feat. Kathy - Colors Of The Rainbow.mp3',\r\n//     img: 'http://localhost:8000/images/Colors Of The Rainbow.jpg'\r\n// }, {\r\n//     title: 'Gala Pukka',\r\n//     artist: 'Sujan Chapagain',\r\n//     emotion: 'Surprise',\r\n//     src: 'http://localhost:8000/music/Sujan ChapagainGala Pukka - Ma Fakauchu Bhanera Hola[Official Lyrical Video].mp3',\r\n//     img: 'http://localhost:8000/images/Gala Pukka.jpg'\r\n// }, {\r\n//     title: 'Take Me To Your Heat',\r\n//     artist: 'Michael Learns To Rock',\r\n//     emotion: 'Happy',\r\n//     src: 'http://localhost:8000/music/Take me to your heart.mp3',\r\n//     img: 'http://localhost:8000/images/Take Me To Your Heat.jpg'\r\n// }, {\r\n//     title: 'Still Dont Seem To Care',\r\n//     artist: 'Talk In Tongues',\r\n//     emotion: 'Disgust',\r\n//     src: 'http://localhost:8000/music/Talk In Tongues - Still Dont Seem To Care (Official Video).mp3',\r\n//     img: 'http://localhost:8000/images/Still Dont Seem To Care.jpg'\r\n// }, {\r\n//     title: 'The Best Day',\r\n//     artist: 'Taylor Swift',\r\n//     emotion: 'Surprise',\r\n//     src: 'http://localhost:8000/music/Taylor Swift - The Best Day.mp3',\r\n//     img: 'http://localhost:8000/images/The Best Day.jpg'\r\n// }, {\r\n//     title: 'Wildest dreams',\r\n//     artist: 'Taylor Swift',\r\n//     emotion: 'Surprise',\r\n//     src: 'http://localhost:8000/music/Taylor Swift - Wildest Dreams.mp3',\r\n//     img: 'http://localhost:8000/images/Wildest dreams.jpg'\r\n// }, {\r\n//     title: 'VIRUS',\r\n//     artist: 'VIRUS-KUSHAL KHATRI',\r\n//     emotion: 'Angry',\r\n//     src: 'http://localhost:8000/music/VIRUS - MR NEPALINEW NEPALI RAP SONG- 2019KUSHAL KHATRI.mp3',\r\n//     img: 'http://localhost:8000/images/VIRUS.jpg'\r\n// }, {\r\n//     title: 'Broken',\r\n//     artist: 'Woren Webbe',\r\n//     emotion: 'Sad',\r\n//     src: 'http://localhost:8000/music/Woren Webbe - Broken Song New English Sad Love Song 2020 R&B 2020.mp3',\r\n//     img: 'http://localhost:8000/images/Broken.jpg'\r\n// }\r\n// ]\r\n// export default songs;\r\n\r\nconst songs = [{\r\n    title: 'Aankhein Milayenge Darr Se',\r\n    artist: 'K. MOHAN,NEHA BHASIN',\r\n    emotion: 'Fear',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741318/music/Aankhein_Milayenge_Darr_Se_Video_Song_Neerja_Sonam_Kapoor_Prasoon_Joshi_T-Series_qupdjj.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803043/images/Aankhein_Milayenge_Darr_Se_jtzgv3.jpg'\r\n},\r\n{\r\n    title: 'Pachtaoge',\r\n    artist: 'Arijit Singh',\r\n    emotion: 'Sad',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741321/music/Arijit_Singh_Pachtaoge_Vicky_Kaushal_Nora_Fatehi_Jaani_B_Praak_Arvindr_Khaira_Bhushan_K_cyqzui.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803046/images/Pachtaoge_o2qqkg.png'\r\n}, {\r\n    title: 'Bhaag D.K Bose',\r\n    artist: 'Azee Jzee Music',\r\n    emotion: 'Disgust',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741337/music/Bhaag_D.K_Bose_-_Delhi_Belly720p_HD_jo0qkq.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803043/images/Bhaag_DK_Bose_w1foi4.jpg'\r\n}, {\r\n    title: 'Allare',\r\n    artist: \"Deepak Bajracharya\",\r\n    emotion: 'Happy',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741330/music/Deepak_Bajracharya_-_AllareNew_Nepali_Song_yyqro0.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803044/images/Allare_vosdbv.jpg'\r\n}, {\r\n    title: 'Start a Fire',\r\n    artist: 'John Legend',\r\n    emotion: 'Neutral',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741303/music/Official_Clip_from_La_La_Land_-_John_Legend_-_Start_a_Fire_ekwcoi.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803045/images/Start_A_Fire_igunjt.jpg'\r\n}, {\r\n    title: 'Basket Case',\r\n    artist: 'Green Day',\r\n    emotion: 'Angry',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741328/music/Green_Day_-_Basket_Case_Official_Music_Video_j2ke2h.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803044/images/Basket_Case_ths2jc.jpg'\r\n}, {\r\n    title: 'Jaula Relaima',\r\n    artist: 'Kamal Khatri,Simple Kharel',\r\n    emotion: 'Neutral',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741332/music/JAULA_RELAIMA_-_Simpal_KharelNew_Nepali_Song_2020Official_Music_Video_FEMALE_VERSION_i9jjso.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803045/images/Jaula_Relaima_id9vfu.jpg'\r\n}, {\r\n    title: 'JEE KARDA',\r\n    artist: 'Divya Kumar',\r\n    emotion: 'Angry',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741331/music/Jee_Karda_Official_Full_Song_Badlapur_Varun_Dhawan___Yami_Gautam_bfb1f7.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803045/images/JEE_KARDA_ctyts5.jpg'\r\n}, {\r\n    title: 'Absence of fear',\r\n    artist: 'Jewel',\r\n    emotion: 'Fear',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741334/music/JEWEL_-_Absence_of_fear_with_Lyrics_nggbwi.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803043/images/Absence_of_fear_hymoo4.jpg'\r\n}, {\r\n    title: 'Lai Lai',\r\n    artist: 'Ketan Chettri',\r\n    emotion: 'Sad',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741336/music/Lai_Lai_-Prasad_Nepali_Movie_Lyrical_Song_Video_Bipin_Karki_Nischal_Basnet_Namrata_Shrest_wf7wvg.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803045/images/Lai_Lai_fmmlmn.jpg'\r\n},{\r\n    title: 'Smells Like Teen Spirit',\r\n    artist: 'Nirvana',\r\n    emotion: 'Happy',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741344/music/Nirvana_-_Smells_Like_Teen_Spirit_Official_Music_Video_etpaaf.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803045/images/Smells_Like_Teen_Spirit_gtcscb.jpg'\r\n}, {\r\n    title: 'Boneyards',\r\n    artist: 'Parkway Drive',\r\n    emotion: 'Disgust',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741304/music/Parkway_Drive_-_Boneyards_sjttzr.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803044/images/Boneyards_ywmot0.jpg'\r\n}, {\r\n    title: 'Colors Of The Rainbow',\r\n    artist: 'Sevenn,Kathy',\r\n    emotion: 'Neutral',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741312/music/Sevenn_feat._Kathy_-_Colors_Of_The_Rainbow_vfrj8n.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803044/images/Colors_Of_The_Rainbow_rni7ij.jpg'\r\n}, {\r\n    title: 'Gala Pukka',\r\n    artist: 'Sujan Chapagain',\r\n    emotion: 'Surprise',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741315/music/Sujan_ChapagainGala_Pukka_-_Ma_Fakauchu_Bhanera_Hola_Official_Lyrical_Video_czz4hk.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803045/images/Gala_Pukka_ext3cn.jpg'\r\n}, {\r\n    title: 'Take Me To Your Heat',\r\n    artist: 'Michael Learns To Rock',\r\n    emotion: 'Happy',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741307/music/Take_me_to_your_heart_hbxc1w.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803046/images/Take_Me_To_Your_Heat_je2b5j.jpg'\r\n}, {\r\n    title: 'Still Dont Seem To Care',\r\n    artist: 'Talk In Tongues',\r\n    emotion: 'Disgust',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741328/music/Talk_In_Tongues_-_Still_Dont_Seem_To_Care_Official_Video_pqcxus.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803046/images/Still_Dont_Seem_To_Care_jhsyu3.jpg'\r\n}, {\r\n    title: 'The Best Day',\r\n    artist: 'Taylor Swift',\r\n    emotion: 'Surprise',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741313/music/Taylor_Swift_-_The_Best_Day_dl8qpv.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803046/images/The_Best_Day_o1yery.jpg'\r\n}, {\r\n    title: 'Wildest dreams',\r\n    artist: 'Taylor Swift',\r\n    emotion: 'Surprise',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741312/music/Taylor_Swift_-_Wildest_Dreams_zoxhna.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803046/images/Wildest_dreams_dfz40b.jpg'\r\n}, {\r\n    title: 'VIRUS',\r\n    artist: 'VIRUS-KUSHAL KHATRI',\r\n    emotion: 'Angry',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741316/music/VIRUS_-_MR_NEPALINEW_NEPALI_RAP_SONG-_2019KUSHAL_KHATRI_id1a0l.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803047/images/VIRUS_rxmjj6.jpg'\r\n}, {\r\n    title: 'Broken',\r\n    artist: 'Woren Webbe',\r\n    emotion: 'Sad',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741322/music/Woren_Webbe_-_Broken_Song_New_English_Sad_Love_Song_2020_R_B_2020_k8cbdb.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803044/images/Broken_bl6kyy.jpg'\r\n}\r\n]\r\nexport default songs;","import React from \"react\";\r\nimport { dispError, dispSuccess } from \"../helpers/toaster\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { setUser } from \"../reduxComponents/action\";\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setUser: (user) => dispatch(setUser(user)),\r\n  };\r\n};\r\n\r\nclass Form extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      register: false,\r\n      forgotP: false,\r\n      takenEmail: [],\r\n      takenUserName: [],\r\n      formErr: {\r\n        email: \"Empty field\",\r\n        userName: \"Empty field\",\r\n        password: \"Empty field\",\r\n      },\r\n      formDet: {\r\n        email: \"\",\r\n        userName: \"\",\r\n        password: \"\",\r\n      },\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios({\r\n      url: `http://localhost:8000/auth/checkDuplicate`,\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n      },\r\n      data: {},\r\n    }).then((data) => {\r\n      var takenEmail = [];\r\n      var takenUserName = [];\r\n      data.data.forEach((record) => {\r\n        takenEmail.push(record.email);\r\n        takenUserName.push(record.userName);\r\n      });\r\n\r\n      this.setState({\r\n        takenEmail,\r\n        takenUserName,\r\n      });\r\n    });\r\n  }\r\n\r\n  formChange = (e) => {\r\n    let { name, value } = e.target;\r\n    this.setState(\r\n      (prev) => ({\r\n        formDet: {\r\n          ...prev.formDet,\r\n          [name]: value,\r\n        },\r\n      }),\r\n      () => {\r\n        this.validator(name);\r\n      }\r\n    );\r\n  };\r\n  validator = (name) => {\r\n    if (this.state.formDet[name].length > 0) {\r\n      if (name === \"email\" && !this.state.formDet[name].includes(\"@\")) {\r\n        this.setState((prev) => ({\r\n          formErr: {\r\n            ...prev.formErr,\r\n            [name]: \"Invalid Email\",\r\n          },\r\n        }));\r\n      } else if (\r\n        name === \"email\" &&\r\n        this.state.takenEmail.indexOf(this.state.formDet[name]) > -1\r\n      ) {\r\n        this.setState((prev) => ({\r\n          formErr: {\r\n            ...prev.formErr,\r\n            [name]: name + \" already taken\",\r\n          },\r\n        }));\r\n      } else if (\r\n        name === \"userName\" &&\r\n        this.state.takenUserName.indexOf(this.state.formDet[name]) > -1\r\n      ) {\r\n        this.setState((prev) => ({\r\n          formErr: {\r\n            ...prev.formErr,\r\n            [name]: name + \" already taken\",\r\n          },\r\n        }));\r\n      } else if (name === \"password\" && this.state.formDet[name].length < 8) {\r\n        this.setState((prev) => ({\r\n          formErr: {\r\n            ...prev.formErr,\r\n            [name]: \"Password length less than 8\",\r\n          },\r\n        }));\r\n      } else {\r\n        this.setState((prev) => ({\r\n          formErr: {\r\n            ...prev.formErr,\r\n            [name]: \"\",\r\n          },\r\n        }));\r\n      }\r\n    } else {\r\n      this.setState((prev) => ({\r\n        formErr: {\r\n          ...prev.formErr,\r\n          [name]: \"Empty Field\",\r\n        },\r\n      }));\r\n    }\r\n  };\r\n  submit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.forgotP) {\r\n      let data = {\r\n        email: this.state.formDet.email,\r\n      };\r\n      if (this.state.takenEmail.indexOf(data.email) > -1) {\r\n        axios({\r\n          url: `http://localhost:8000/auth/forgot-password`,\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          data: data,\r\n        })\r\n          .then((_) => {\r\n            dispSuccess(`We have sent you a message at ${data.email}`);\r\n          })\r\n          .catch((err) => {\r\n            dispError(err);\r\n          });\r\n      } else {\r\n        dispError({\r\n          response: {\r\n            data: {\r\n              msg: \"Email not found!\",\r\n            },\r\n          },\r\n        });\r\n      }\r\n    } else {\r\n      let err = Object.values(this.state.formErr);\r\n      let submit = err.every((err) => err.length === 0);\r\n      if (!this.state.register && !this.state.forgotP) {\r\n        submit = true;\r\n      }\r\n      let url;\r\n      if (this.state.register && !this.state.forgotP) {\r\n        url = `http://localhost:8000/auth/register`;\r\n      } else {\r\n        url = `http://localhost:8000/auth/login`;\r\n      }\r\n      if (submit) {\r\n        axios({\r\n          url: url,\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          data: this.state.formDet,\r\n        })\r\n          .then((data) => {\r\n            localStorage.setItem(\"$token$\", JSON.stringify(data.data.token));\r\n\r\n            this.props.setUser(data.data.user);\r\n            dispSuccess(`Hello ${data.data.user.userName}`);\r\n            this.props.dispForm(false);\r\n          })\r\n          .catch((err) => {\r\n            dispError(err);\r\n          });\r\n      }\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <span onClick={() => this.props.dispForm(false)}>&times;</span>\r\n        <main className=\"pa4 black-80\">\r\n          <form className=\"measure center\">\r\n            <fieldset id=\"sign_up\" className=\"ba b--transparent ph0 mh0\">\r\n              <legend className=\"f4 fw6 ph0 mh0\">\r\n                {!this.state.forgotP\r\n                  ? this.state.register\r\n                    ? \"Sign Up\"\r\n                    : \"Sign In\"\r\n                  : \"Forgot-Password\"}\r\n              </legend>\r\n              <div className=\"mt3\">\r\n                {!this.state.forgotP ? (\r\n                  this.state.register ? (\r\n                    <>\r\n                      <label\r\n                        className=\"db fw6 lh-copy f6\"\r\n                        htmlFor=\"email-address\"\r\n                      >\r\n                        Email\r\n                      </label>\r\n                      <input\r\n                        onChange={this.formChange}\r\n                        className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\"\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        id=\"email-address\"\r\n                        value={this.state.formDet.email}\r\n                      />\r\n                      <p style={{ color: \"red\" }}>{this.state.formErr.email}</p>\r\n                      <label className=\"db fw6 lh-copy f6\" htmlFor=\"userName\">\r\n                        Username\r\n                      </label>\r\n                      <input\r\n                        onChange={this.formChange}\r\n                        className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\"\r\n                        type=\"text\"\r\n                        name=\"userName\"\r\n                        value={this.state.formDet.userName}\r\n                        id=\"userName\"\r\n                      />\r\n                      <p style={{ color: \"red\" }}>\r\n                        {this.state.formErr.userName}\r\n                      </p>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <label\r\n                        className=\"db fw6 lh-copy f6\"\r\n                        htmlFor=\"email-address\"\r\n                      >\r\n                        Email or Username\r\n                      </label>\r\n                      <input\r\n                        onChange={this.formChange}\r\n                        className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\"\r\n                        type=\"text\"\r\n                        name=\"userName\"\r\n                        value={this.state.formDet.userName}\r\n                        id=\"userName\"\r\n                      />\r\n                    </>\r\n                  )\r\n                ) : (\r\n                  <>\r\n                    <label\r\n                      className=\"db fw6 lh-copy f6\"\r\n                      htmlFor=\"email-address\"\r\n                    >\r\n                      Email\r\n                    </label>\r\n                    <input\r\n                      onChange={this.formChange}\r\n                      className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\"\r\n                      type=\"text\"\r\n                      name=\"email\"\r\n                      value={this.state.formDet.email}\r\n                      id=\"userName\"\r\n                    />\r\n                  </>\r\n                )}\r\n              </div>\r\n              {!this.state.forgotP ? (\r\n                <div className=\"mv3\">\r\n                  <label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">\r\n                    Password\r\n                  </label>\r\n\r\n                  <input\r\n                    onChange={this.formChange}\r\n                    className=\"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\"\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    id=\"password\"\r\n                    value={this.state.formDet.password}\r\n                  />\r\n                  {this.state.register ? (\r\n                    <p style={{ color: \"red\" }}>\r\n                      {this.state.formErr.password}\r\n                    </p>\r\n                  ) : null}\r\n                </div>\r\n              ) : null}\r\n            </fieldset>\r\n            <div className=\"\">\r\n              {!this.state.forgotP ? (\r\n                !this.state.register ? (\r\n                  <input\r\n                    className=\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\"\r\n                    type=\"submit\"\r\n                    onClick={this.submit}\r\n                    value=\"Sign in\"\r\n                  />\r\n                ) : (\r\n                  <input\r\n                    className=\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\"\r\n                    type=\"submit\"\r\n                    onClick={this.submit}\r\n                    value=\"Sign up\"\r\n                  />\r\n                )\r\n              ) : (\r\n                <input\r\n                  className=\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\"\r\n                  type=\"submit\"\r\n                  onClick={this.submit}\r\n                  value=\"Submit\"\r\n                />\r\n              )}\r\n            </div>\r\n            <div className=\"lh-copy mt3\">\r\n              {!this.state.forgotP ? (\r\n                !this.state.register ? (\r\n                  <>\r\n                    <span\r\n                      className=\"f6 link dim black db\"\r\n                      onClick={() =>\r\n                        this.setState({\r\n                          register: true,\r\n                          formDet: { email: \"\", password: \"\", userName: \"\" },\r\n                          formErr: {\r\n                            email: \"Empty field\",\r\n                            userName: \"Empty field\",\r\n                            password: \"Empty field\",\r\n                          },\r\n                        })\r\n                      }\r\n                    >\r\n                      Sign up\r\n                    </span>\r\n                    <a\r\n                      href=\"#0\"\r\n                      className=\"f6 link dim black db\"\r\n                      onClick={() =>\r\n                        this.setState({\r\n                          forgotP: true,\r\n                        })\r\n                      }\r\n                    >\r\n                      Forgot your password?\r\n                    </a>\r\n                  </>\r\n                ) : (\r\n                  <span\r\n                    className=\"f6 link dim black db\"\r\n                    onClick={() =>\r\n                      this.setState({\r\n                        register: false,\r\n                        formDet: { email: \"\", password: \"\", userName: \"\" },\r\n                        formErr: {\r\n                          email: \"Empty field\",\r\n                          userName: \"Empty field\",\r\n                          password: \"Empty field\",\r\n                        },\r\n                      })\r\n                    }\r\n                  >\r\n                    Sign in\r\n                  </span>\r\n                )\r\n              ) : (\r\n                <span\r\n                  className=\"f6 link dim black db\"\r\n                  onClick={() =>\r\n                    this.setState({\r\n                      forgotP: false,\r\n                      formDet: { email: \"\", password: \"\", userName: \"\" },\r\n                      formErr: {\r\n                        email: \"Empty field\",\r\n                        userName: \"Empty field\",\r\n                        password: \"Empty field\",\r\n                      },\r\n                    })\r\n                  }\r\n                >\r\n                  Go Back\r\n                </span>\r\n              )}\r\n            </div>\r\n          </form>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default connect(null, mapDispatchToProps)(Form);\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom';\r\nconst root = document.getElementById('root');\r\nconst modal = document.getElementById('modal')\r\n\r\nclass Modal extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.el = document.createElement('div')\r\n    }\r\n    componentDidMount(){\r\n        modal.appendChild(this.el)\r\n    }\r\n    componentWillUnmount(){\r\n        modal.removeChild(this.el)\r\n    }\r\n    render(){\r\n        return ReactDOM.createPortal(\r\n            this.props.children,\r\n            this.el\r\n        );\r\n    }\r\n}\r\nexport default Modal","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { setUser } from \"../reduxComponents/action\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\nconst Profile = ({ user, dispProfile }) => {\r\n  const styleX = {\r\n    padding: \"20px\",\r\n    borderRadius: \"10px\",\r\n    border: \"1px solid black\",\r\n    fontWeight: \"bold\",\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <span onClick={() => dispProfile(false)}>&times;</span>\r\n      <div\r\n        style={{\r\n          color: \"black\",\r\n          width: \"401px\",\r\n          displat: \"block\",\r\n          margin: \"auto\",\r\n          marginTop: \"10px\",\r\n        }}\r\n      >\r\n        <div style={styleX}>\r\n          <p>Email: {user.email}</p>\r\n        </div>\r\n        <div style={styleX}>\r\n          <p>Username: {user.userName}</p>\r\n        </div>\r\n        {user.songs.length ? (\r\n          <div style={styleX}>\r\n            {user.songs.map((song, i) => {\r\n              <div key={i} style={{ display: \"block\" }}>\r\n                <p style={{ display: \"inline\" }}>{song.title}</p>\r\n                <p style={{ float: \"right\", displat: \"inline\" }}>\r\n                  {song.artist}\r\n                </p>\r\n              </div>;\r\n            })}\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default connect(mapStateToProps)(Profile);\r\n","import \"./App.css\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Player from \"./container/player\";\r\nimport songs from \"./helpers/songs\";\r\nimport EmotionCam from \"./container/emotionCam\";\r\nimport Form from \"./container/form\";\r\nimport Modal from \"./portals/modal\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"tachyons\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Profile from \"./container/profile\";\r\nimport axios from \"axios\";\r\nimport { setUser } from \"./reduxComponents/action\";\r\nimport { dispError } from \"./helpers/toaster\";\r\nimport { connect } from \"react-redux\";\r\nexport const FormContext = React.createContext();\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setUser: (user) => dispatch(setUser(user)),\r\n  };\r\n};\r\n\r\nfunction App({ setUser }) {\r\n  const [playlistFromEmotion, setPlaylistFromEmotion] = useState(null);\r\n  const [emotionFinder, setEmotionFinder] = useState(false);\r\n  const [formDisplay, setFormDisplay] = useState(false);\r\n  const [profileDisp, setProfileDisp] = useState(false);\r\n  useEffect(() => {\r\n    axios({\r\n      url: \"http://localhost:8000/user/loginWithJWT\",\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: JSON.parse(localStorage.getItem(\"$token$\")),\r\n      },\r\n      data: {},\r\n    })\r\n      .then((data) => {\r\n        console.log(data.data);\r\n        setUser(data.data);\r\n      })\r\n      .catch((err) => {\r\n        localStorage.clear();\r\n      });\r\n  }, []);\r\n  const dispForm = (val) => {\r\n    setFormDisplay(val);\r\n  };\r\n  const setEmPl = (emotion) => {\r\n    setPlaylistFromEmotion(emotion);\r\n    setEmotionFinder(false);\r\n  };\r\n\r\n  const dispProfile = (val) => {\r\n    setProfileDisp(val);\r\n  };\r\n  const findEmotion = (val) => {\r\n    setEmotionFinder(val);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {emotionFinder ? (\r\n        <Modal>\r\n          <EmotionCam setEmPl={setEmPl} findEmotion={findEmotion} />\r\n        </Modal>\r\n      ) : null}\r\n      {formDisplay ? (\r\n        <Modal>\r\n          <Form dispForm={dispForm} />\r\n        </Modal>\r\n      ) : null}\r\n      {profileDisp ? (\r\n        <Modal>\r\n          <Profile dispProfile={dispProfile} />\r\n        </Modal>\r\n      ) : null}\r\n      <FormContext.Provider value={dispForm}>\r\n        <Player\r\n          allSongs={songs}\r\n          findEmotion={findEmotion}\r\n          playlistFromEmotion={playlistFromEmotion}\r\n          dispProfile={dispProfile}\r\n        />\r\n      </FormContext.Provider>\r\n      <ToastContainer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(App);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\r\n    SET_USER,\r\n   \r\n} from './constants'\r\nconst initialState = {\r\n    user: {},\r\n    getUserLoading: true,\r\n}\r\nexport const setUser = (state = initialState, action) =>{\r\n        switch(action.type){\r\n        case SET_USER:\r\n            return {\r\n                ...state,\r\n                user:action.payload,\r\n                getUserLoading:false\r\n            }\r\n        default: \r\n            return state;\r\n    }\r\n}","\r\nimport webpush from 'web-push'\r\nvar vapidPublicKey = webpush.generateVAPIDKeys().publicKey;\r\nexport default function swDev(){\r\n    function urlBase64ToUint8Array(base64String) {\r\n        const padding = '='.repeat((4 - base64String.length % 4) % 4);\r\n        const base64 = (base64String + padding)\r\n          .replace(/-/g, '+')\r\n          .replace(/_/g, '/');\r\n       \r\n        const rawData = window.atob(base64);\r\n        const outputArray = new Uint8Array(rawData.length);\r\n       \r\n        for (let i = 0; i < rawData.length; ++i) {\r\n          outputArray[i] = rawData.charCodeAt(i);\r\n        }\r\n        return outputArray;\r\n      }\r\n        var convertedVapidKey =  urlBase64ToUint8Array(vapidPublicKey)\r\n\r\n        \r\n    let swURL = `${process.env.PUBLIC_URL}/sw.js`\r\nnavigator.serviceWorker.register(swURL).then(async response=>{\r\n   \r\n    return response.pushManager.getSubscription().then(subscription=>{\r\n                return response.pushManager.subscribe({\r\n            userVisibleOnly:true,\r\n            applicationServerKey:convertedVapidKey\r\n        })\r\n       })\r\n})\r\n.catch(err=>console.error(err))\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, combineReducers } from \"redux\";\r\nimport { createLogger } from \"redux-logger\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {setUser} from './reduxComponents/reducer'\r\nimport swDev from './swDev'\r\n\r\nconst logger = createLogger();\r\nconst store = createStore(\r\n  setUser,\r\n  applyMiddleware(thunkMiddleware, logger)\r\n);\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store = {store}>\r\n    <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\nswDev();\r\n"],"sourceRoot":""}