{"version":3,"sources":["reduxComponents/action.js","reduxComponents/constants.js","views/listSelect.jsx","views/imageDisplay.jsx","helpers/toaster.js","config.js","container/emotionCam.jsx","container/player.jsx","helpers/shuffleArr.js","helpers/songs.js","container/form.jsx","portals/modal.js","container/profile.jsx","App.js","reportWebVitals.js","reduxComponents/reducer.js","swDev.js","index.js"],"names":["setUser","user","type","SET_USER","payload","ListSelect","shown","lists","listSelected","nowPlaying","stylex","zIndex","display","content","map","list","i","onClick","style","background","id","ImageDisplay","cam","url","goBack","send","setcanvUri","canvRef","useRef","useEffect","current","getContext","drawImage","width","height","uri","toDataURL","margin","ref","src","alt","className","options","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","dispError","err","response","data","msg","toast","error","dispSuccess","success","port","EmotionCam","displayEmotion","setEmPl","findEmotion","fileRef","videoRef","useState","imageSelect","setImageSelect","file","setFile","setURL","emotion","setEmotion","camShow","setCamShow","setCam","camImgUri","setCamImgUri","length","a","navigator","mediaDevices","getUserMedia","video","stream","window","srcObject","getTracks","forEach","track","stop","fontWeight","textAlign","fontSize","e","preventDefault","axios","method","then","obj","tf","model","canvImg","Image","cnvs","document","createElement","ctx","onload","x","y","tensor","fromPixels","div","toFloat","expandDims","predict","prediction","emotions","index","Object","values","findIndex","p","Math","max","catch","formData","FormData","append","headers","autoPlay","click","onChange","target","files","URL","createObjectURL","PlayerButton","lazy","BottomIcons","SongDesc","SongLists","TopIcons","connect","state","dispatch","allSongs","playlistFromEmotion","dispProfile","playlistToggle","setplaylistToggle","listSelectToggle","setListSelectToggle","playlistDisplay","setPlaylistDisplay","playlist","setPlaylist","playing","setPlaying","currentSong","setCurrentSong","currentMusicTime","setCurrentMusicTime","maxSongDuration","setMaxSongDuration","wishlisted","setWishlisted","retweeted","setRetweeted","audioRef","songFilter","filter","songs","addEventListener","duration","currentTime","play","pause","getIndex","arr","item","indexOf","song","push","fallback","topIconHandler","arg","action","title","_id","Authorization","JSON","parse","localStorage","getItem","console","log","color","playThis","currentPlaying","img","artist","playerButtonHandler","ind","array","temporaryValue","randomIndex","currentIndex","floor","random","shuffle","changeCurrentMusicTime","value","songName","rightColor","leftColor","handleBottomButtons","Form","formChange","name","setState","prev","formDet","validator","includes","takenEmail","takenUserName","formErr","submit","forgotP","email","_","every","register","setItem","stringify","token","props","userName","dispForm","password","record","this","htmlFor","href","React","Component","modal","getElementById","Modal","el","appendChild","removeChild","ReactDOM","createPortal","children","imageUploader","image","setImage","clear","float","padding","marginRight","left","top","FormContext","createContext","setPlaylistFromEmotion","emotionFinder","setEmotionFinder","formDisplay","setFormDisplay","profileDisp","setProfileDisp","val","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","getUserLoading","vapidPublicKey","webpush","generateVAPIDKeys","publicKey","logger","createLogger","store","createStore","applyMiddleware","thunkMiddleware","render","StrictMode","App","convertedVapidKey","base64String","base64","repeat","replace","rawData","atob","outputArray","Uint8Array","charCodeAt","urlBase64ToUint8Array","swURL","process","serviceWorker","pushManager","getSubscription","subscription","subscribe","userVisibleOnly","applicationServerKey","swDev"],"mappings":"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","file":"static/js/main.7564a4eb.chunk.js","sourcesContent":["import {\r\n    SET_USER\r\n} from './constants'\r\nexport const setUser = (user) => ({\r\n    type:SET_USER,\r\n    payload: user\r\n})\r\n\r\n","export const SET_USER = 'SET_USER';\r\n","import React from \"react\";\r\n\r\nexport default function ListSelect({ shown, lists, listSelected, nowPlaying }) {\r\n  let stylex = shown\r\n    ? { zIndex: \"1\", display: \"block\" }\r\n    : { zIndex: \"-1\", display: \"none\" };\r\n  let content = lists\r\n    ? lists.map((list, i) => {\r\n        return (\r\n          <h2\r\n            key={i}\r\n            onClick={() => listSelected(list)}\r\n            style={nowPlaying === list ? { background: \"green\" } : {}}\r\n          >\r\n            {list} Songs\r\n          </h2>\r\n        );\r\n      })\r\n    : null;\r\n  return (\r\n    <div id=\"list-select\" style={stylex}>\r\n      {content}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useRef } from \"react\";\r\n\r\nexport default function ImageDisplay({ cam, url, goBack, send, setcanvUri }) {\r\n  const canvRef = useRef(null);\r\n  useEffect(() => {\r\n    if (cam) {\r\n      const ctx = canvRef.current.getContext(\"2d\");\r\n      ctx.drawImage(url, 0, 0, canvRef.current.width, canvRef.current.height);\r\n      let uri = canvRef.current.toDataURL();\r\n      setcanvUri(uri);\r\n    }\r\n  }, [canvRef, cam, url]);\r\n  return (\r\n    <>\r\n      {cam ? (\r\n        <canvas\r\n          style={{ display: \"block\", margin: \"auto\" }}\r\n          ref={canvRef}\r\n          width=\"400\"\r\n          height=\"400\"\r\n        ></canvas>\r\n      ) : (\r\n        <img\r\n          src={url}\r\n          alt=\"userImage\"\r\n          style={{\r\n            width: \"400px\",\r\n            height: \"400px\",\r\n            display: \"block\",\r\n            margin: \"auto\",\r\n          }}\r\n        />\r\n      )}\r\n      <button className=\"designedButton\" onClick={goBack}>\r\n        Go Back\r\n      </button>\r\n      <button className=\"designedButton\" onClick={send} id=\"done\">\r\n        Send\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n","import { toast } from \"react-toastify\";\r\n\r\nconst options = {\r\n    position: \"bottom-left\",\r\n    autoClose: 5000,\r\n    hideProgressBar: false,\r\n    closeOnClick: true,\r\n    pauseOnHover: true,\r\n    draggable: true,\r\n    progress: undefined,\r\n  }\r\nexport const dispError = (err)=>{\r\n    if(err && err.response && err.response.data && err.response.data.msg)\r\n        toast.error(err.response.data.msg, options);\r\n}\r\nexport const dispSuccess = (msg)=>{\r\n    toast.success(msg, options)\r\n}\r\n","export const port = 'http://192.168.100.173:8000'","import React, { useEffect, useRef, useState } from \"react\";\r\nimport ImageDisplay from \"../views/imageDisplay\";\r\nimport axios from \"axios\";\r\nimport { dispError, dispSuccess } from \"../helpers/toaster\";\r\nimport * as tf from \"@tensorflow/tfjs\";\r\nimport { port } from \"../config\";\r\n\r\nconst EmotionCam = ({ setEmPl, findEmotion }) => {\r\n  const fileRef = useRef(null);\r\n\r\n  const videoRef = useRef(null);\r\n  const [imageSelect, setImageSelect] = useState(false);\r\n  const [file, setFile] = useState(null);\r\n  const [url, setURL] = useState(\"\");\r\n  const [emotion, setEmotion] = useState(null);\r\n  const [camShow, setCamShow] = useState(false);\r\n  const [cam, setCam] = useState(false);\r\n  const [camImgUri, setCamImgUri] = useState(undefined);\r\n  const inputChange = (e) => {\r\n    let file = e.target.files[0];\r\n    setFile(file);\r\n    setURL(URL.createObjectURL(file));\r\n    setCam(false);\r\n  };\r\n  const setcanvUri = (uri) => {\r\n    setCamImgUri(uri);\r\n  };\r\n\r\n  const send = (e) => {\r\n    e.preventDefault();\r\n    if (cam) {\r\n      axios({\r\n        url: `${port}/emotion`,\r\n        method: \"POST\",\r\n        data: {\r\n          uri: camImgUri,\r\n        },\r\n      })\r\n        .then(async (data) => {\r\n          let obj = data.data;\r\n          var model = await tf.loadLayersModel(`${port}/models/model.json`);\r\n          var canvImg = new Image();\r\n          canvImg.src = camImgUri;\r\n          const cnvs = document.createElement(\"canvas\");\r\n          cnvs.width = 48;\r\n          cnvs.height = 48;\r\n          const ctx = cnvs.getContext(\"2d\");\r\n          canvImg.onload = async () => {\r\n            ctx.drawImage(\r\n              canvImg,\r\n              obj.x,\r\n              obj.y,\r\n              obj.width,\r\n              obj.height,\r\n              0,\r\n              0,\r\n              cnvs.width,\r\n              cnvs.height\r\n            );\r\n            const tensor = tf.browser\r\n              .fromPixels(cnvs, 1)\r\n              .div(255)\r\n              .toFloat()\r\n              .expandDims(0);\r\n\r\n            const prediction = await model.predict(tensor).data();\r\n            var emotions = [\r\n              \"Angry\",\r\n              \"Disgust\",\r\n              \"Fear\",\r\n              \"Happy\",\r\n              \"Sad\",\r\n              \"Surprise\",\r\n              \"Neutral\",\r\n            ];\r\n            var index = Object.values(prediction).findIndex(\r\n              (p) => p === Math.max(...Object.values(prediction))\r\n            );\r\n            setEmotion(emotions[index]);\r\n            setEmPl(emotions[index]);\r\n            dispSuccess(emotions[index]);\r\n          };\r\n        })\r\n        .catch((err) => {\r\n          dispError(err);\r\n        });\r\n    } else {\r\n      var formData = new FormData();\r\n      formData.append(\"img\", file);\r\n      axios({\r\n        url: `${port}/emotion`,\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        },\r\n        data: formData,\r\n      })\r\n        .then(async (data) => {\r\n          let obj = data.data;\r\n          var model = await tf.loadLayersModel(`${port}/models/model.json`);\r\n          var canvImg = new Image();\r\n          canvImg.src = url;\r\n          const cnvs = document.createElement(\"canvas\");\r\n          cnvs.width = 48;\r\n          cnvs.height = 48;\r\n          const ctx = cnvs.getContext(\"2d\");\r\n          canvImg.onload = async () => {\r\n            ctx.drawImage(\r\n              canvImg,\r\n              obj.x,\r\n              obj.y,\r\n              obj.width,\r\n              obj.height,\r\n              0,\r\n              0,\r\n              cnvs.width,\r\n              cnvs.height\r\n            );\r\n            const tensor = tf.browser\r\n              .fromPixels(cnvs, 1)\r\n              .div(255)\r\n              .toFloat()\r\n              .expandDims(0);\r\n\r\n            const prediction = await model.predict(tensor).data();\r\n            var emotions = [\r\n              \"Angry\",\r\n              \"Disgust\",\r\n              \"Fear\",\r\n              \"Happy\",\r\n              \"Sad\",\r\n              \"Surprise\",\r\n              \"Neutral\",\r\n            ];\r\n            var index = Object.values(prediction).findIndex(\r\n              (p) => p === Math.max(...Object.values(prediction))\r\n            );\r\n            setEmotion(emotions[index]);\r\n            setEmPl(emotions[index]);\r\n            dispSuccess(emotions[index]);\r\n          };\r\n        })\r\n        .catch((err) => {\r\n          dispError(err);\r\n        });\r\n    }\r\n  };\r\n  const imageSelectGoBack = () => {\r\n    setImageSelect(false);\r\n  };\r\n  const captured = (e) => {\r\n    e.preventDefault();\r\n    setURL(videoRef.current);\r\n    setCamShow(false);\r\n    setCam(true);\r\n    setImageSelect(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (url.length) setImageSelect(true);\r\n    (async function () {\r\n      if (camShow) {\r\n        let stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n        window.stream = stream;\r\n        videoRef.current.srcObject = stream;\r\n      } else {\r\n        if (window.stream) {\r\n          window.stream.getTracks().forEach(function (track) {\r\n            track.stop();\r\n          });\r\n        }\r\n      }\r\n    })();\r\n  }, [url, emotion, camShow]);\r\n  var displayEmotion;\r\n  if (emotion && imageSelect) {\r\n    displayEmotion = (\r\n      <p\r\n        style={{\r\n          fontWeight: \"bolder\",\r\n          textAlign: \"center\",\r\n          fontSize: \"2em\",\r\n          background: \"black\",\r\n        }}\r\n      >\r\n        Emotion is {emotion}\r\n      </p>\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <span onClick={() => findEmotion(false)}>&times;</span>\r\n      {imageSelect ? (\r\n        <ImageDisplay\r\n          cam={cam}\r\n          url={url}\r\n          goBack={imageSelectGoBack}\r\n          send={send}\r\n          setcanvUri={setcanvUri}\r\n        />\r\n      ) : (\r\n        <>\r\n          {!camShow ? (\r\n            <div className=\"choose\">\r\n              <div\r\n                className=\"file\"\r\n                onClick={() => {\r\n                  fileRef.current.click();\r\n                }}\r\n              >\r\n                <i className=\"fa fa-file-image fa-5x\"></i>\r\n                <h3>Choose from a File</h3>\r\n                <input\r\n                  id=\"fileChoose\"\r\n                  type=\"file\"\r\n                  ref={fileRef}\r\n                  onChange={inputChange}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"camera\" onClick={() => setCamShow(true)}>\r\n                <i className=\"fa fa-camera fa-5x\"></i>\r\n                <h3>Capture from Camera</h3>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <video\r\n                style={{ display: \"block\", margin: \"auto\" }}\r\n                ref={videoRef}\r\n                width=\"400\"\r\n                height=\"400\"\r\n                autoPlay\r\n              />\r\n              <button className=\"designedButton\" onClick={captured}>\r\n                Capture\r\n              </button>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n      {displayEmotion}\r\n    </>\r\n  );\r\n};\r\nexport default EmotionCam;\r\n","import React, { useState, useRef, useEffect, lazy, Suspense } from \"react\";\r\n// import BottomIcons from \"../views/bottomIcons\";\r\nimport ListSelect from \"../views/listSelect\";\r\n// import PlayerButton from \"../views/playerButtons.jsx\";\r\n// import SongDesc from \"../views/songDesc\";\r\n// import SongLists from \"../views/songLists\";\r\n// import TopIcons from \"../views/topIcons\";\r\n\r\nimport shuffle from \"../helpers/shuffleArr\";\r\nimport EmotionCam from \"./emotionCam\";\r\nimport { setUser } from \"../reduxComponents/action\";\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { port } from \"../config\";\r\nconst PlayerButton = lazy(() => import(\"../views/playerButtons.jsx\"));\r\nconst BottomIcons = lazy(() => import(\"../views/bottomIcons\"));\r\nconst SongDesc = lazy(() => import(\"../views/songDesc\"));\r\nconst SongLists = lazy(() => import(\"../views/songLists\"));\r\nconst TopIcons = lazy(() => import(\"../views/topIcons\"));\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setUser: (user) => dispatch(setUser(user)),\r\n  };\r\n};\r\n\r\nfunction Player({\r\n  allSongs,\r\n  playlistFromEmotion,\r\n  findEmotion,\r\n  dispProfile,\r\n  user,\r\n  setUser,\r\n}) {\r\n  const [playlistToggle, setplaylistToggle] = useState(false);\r\n  const [listSelectToggle, setListSelectToggle] = useState(false);\r\n  const [playlistDisplay, setPlaylistDisplay] = useState(\"Happy\");\r\n  const [playlist, setPlaylist] = useState(null);\r\n  const [playing, setPlaying] = useState(false);\r\n  const [currentSong, setCurrentSong] = useState(null);\r\n  const [currentMusicTime, setCurrentMusicTime] = useState(0);\r\n  const [maxSongDuration, setMaxSongDuration] = useState(0);\r\n  const [wishlisted, setWishlisted] = useState(false);\r\n  const [retweeted, setRetweeted] = useState(false);\r\n\r\n  const audioRef = useRef(null);\r\n  useEffect(() => {\r\n    (async function () {})();\r\n    let songFilter = allSongs.filter(\r\n      (songs) => songs.emotion === playlistDisplay\r\n    );\r\n    setPlaylist(songFilter);\r\n    setCurrentSong(songFilter[0]);\r\n  }, []);\r\n  useEffect(() => {\r\n    (async function () {\r\n      audioRef.current.addEventListener(\"loadedmetadata\", async () => {\r\n        if (audioRef.current)\r\n          setMaxSongDuration(await audioRef.current.duration);\r\n      });\r\n      audioRef.current.addEventListener(\"timeupdate\", async () => {\r\n        if (audioRef.current)\r\n          setCurrentMusicTime(await audioRef.current.currentTime);\r\n      });\r\n      if (currentSong) {\r\n        if (retweeted) setPlaylist([currentSong]);\r\n        else {\r\n          let songFilter = allSongs.filter(\r\n            (songs) => songs.emotion === playlistDisplay\r\n          );\r\n          setPlaylist(songFilter);\r\n        }\r\n      }\r\n      if (playlistFromEmotion && playlistFromEmotion !== playlistDisplay) {\r\n        let songFilter = allSongs.filter(\r\n          (songs) => songs.emotion === playlistFromEmotion\r\n        );\r\n        setPlaylistDisplay(playlistFromEmotion);\r\n        setPlaylist(songFilter);\r\n        setCurrentSong(songFilter[0]);\r\n      }\r\n      if (playing) {\r\n        audioRef.current.play();\r\n      } else {\r\n        audioRef.current.pause();\r\n      }\r\n    })();\r\n  }, [\r\n    user,\r\n    currentSong,\r\n    playing,\r\n    retweeted,\r\n    playlistDisplay,\r\n    playlistFromEmotion,\r\n  ]);\r\n\r\n  const changeCurrentMusicTime = (value) => {\r\n    if (value !== audioRef.current.currentTime) {\r\n      audioRef.current.currentTime = value;\r\n      setCurrentMusicTime(value);\r\n    }\r\n  };\r\n  const playThis = (song) => {\r\n    setCurrentSong(song);\r\n    setPlaylistDisplay(song.emotion);\r\n    setPlaying(true);\r\n  };\r\n  const topIconHandler = (arg) => {\r\n    let action;\r\n    if (arg === \"wishlist\") {\r\n      if (user.songs) {\r\n        if (user.songs.findIndex((e) => e.title === currentSong.title) > -1) {\r\n          action = \"remove\";\r\n        } else {\r\n          action = \"add\";\r\n        }\r\n\r\n        axios({\r\n          url: `${port}/user/${user._id}`,\r\n          method: \"PUT\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: JSON.parse(localStorage.getItem(\"$token$\")),\r\n          },\r\n          data: {\r\n            action,\r\n            song: currentSong,\r\n          },\r\n        })\r\n          .then((data) => setUser(data.data))\r\n          .catch(console.log);\r\n      }\r\n      setWishlisted((wishlisted) => !wishlisted);\r\n    } else if (arg === \"emotionFinder\") {\r\n      findEmotion(true);\r\n    }\r\n  };\r\n  const getIndex = (arr, item) => {\r\n    return arr.indexOf(item);\r\n  };\r\n  const playerButtonHandler = (arg) => {\r\n    if (arg === \"play-pause\") {\r\n      setPlaying((playing) => !playing);\r\n    } else if (arg === \"next\") {\r\n      let ind = getIndex(playlist, currentSong);\r\n\r\n      ind = ind === playlist.length - 1 ? -1 : ind;\r\n      setCurrentSong(playlist[ind + 1]);\r\n    } else if (arg === \"previous\") {\r\n      let ind = getIndex(playlist, currentSong);\r\n      ind = ind === 0 ? playlist.length : ind;\r\n      setCurrentSong(playlist[ind - 1]);\r\n    } else if (arg === \"retweet\") {\r\n      setRetweeted(!retweeted);\r\n    } else if (arg === \"random\") {\r\n      setPlaylist((playlist) => shuffle(playlist));\r\n    }\r\n  };\r\n\r\n  const handleBottomButtons = (arg) => {\r\n    if (arg === \"playlist\") {\r\n      setplaylistToggle((playlistToggle) => !playlistToggle);\r\n    } else if (arg === \"listSelector\") {\r\n      setListSelectToggle((listSelectToggle) => !listSelectToggle);\r\n    }\r\n  };\r\n  const listSelected = (emotion) => {\r\n    if (emotion) {\r\n      setplaylistToggle(true);\r\n      setPlaylistDisplay(emotion);\r\n      setListSelectToggle(false);\r\n    }\r\n  };\r\n  let arr = [];\r\n  allSongs.forEach((song) => {\r\n    if (arr.indexOf(song.emotion) < 0) {\r\n      arr.push(song.emotion);\r\n    }\r\n  });\r\n  return (\r\n    <div className=\"bg\">\r\n      <>\r\n        <audio ref={audioRef} src={currentSong ? currentSong.src : \"\"} />\r\n      </>\r\n      <section className=\"player\">\r\n        <div className=\"container\">\r\n          <Suspense fallback={<div>Loading...</div>}>\r\n            <TopIcons\r\n              topIconHandler={topIconHandler}\r\n              dispProfile={dispProfile}\r\n              color={\r\n                user.songs\r\n                  ? user.songs.findIndex((e) => e.title === currentSong.title) >\r\n                    -1\r\n                    ? \"red\"\r\n                    : \"black\"\r\n                  : wishlisted\r\n                  ? \"red\"\r\n                  : \"black\"\r\n              }\r\n            />\r\n\r\n            {playlistToggle ? (\r\n              <SongLists\r\n                songs={playlist}\r\n                emotion={playlistDisplay}\r\n                playThis={playThis}\r\n                currentPlaying={currentSong}\r\n                playing={playing}\r\n              />\r\n            ) : (\r\n              <SongDesc\r\n                img={currentSong ? currentSong.img : \"\"}\r\n                max={maxSongDuration}\r\n                title={currentSong ? currentSong.title : \"\"}\r\n                artist={currentSong ? currentSong.artist : \"\"}\r\n                currentTime={currentMusicTime}\r\n              />\r\n            )}\r\n\r\n            <PlayerButton\r\n              playerButtonHandler={playerButtonHandler}\r\n              playing={playing ? true : false}\r\n              changeCurrentMusicTime={changeCurrentMusicTime}\r\n              currentMusicTime={currentMusicTime}\r\n              max={maxSongDuration}\r\n            />\r\n\r\n            <BottomIcons\r\n              songName={playlistToggle ? currentSong.title : null}\r\n              rightColor={listSelectToggle ? \"blue\" : \"black\"}\r\n              leftColor={playlistToggle ? \"blue\" : \"black\"}\r\n              handleBottomButtons={handleBottomButtons}\r\n            />\r\n          </Suspense>\r\n        </div>\r\n        {listSelectToggle ? (\r\n          <ListSelect\r\n            shown=\"true\"\r\n            listSelected={listSelected}\r\n            lists={arr}\r\n            nowPlaying={currentSong ? currentSong.emotion : playlistDisplay}\r\n          />\r\n        ) : null}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Player);\r\n","export default function shuffle(array){\r\n    var currentIndex = array.length,\r\n    temporaryValue,\r\n    randomIndex;\r\n\r\n// While there remain elements to shuffle...\r\nwhile (0 !== currentIndex) {\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n\r\n    // And swap it with the current element.\r\n    temporaryValue = array[currentIndex];\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n}\r\n\r\nreturn array;\r\n}","// const songs = [{\r\n//     title: 'Aankhein Milayenge Darr Se',\r\n//     artist: 'K. MOHAN,NEHA BHASIN',\r\n//     emotion: 'Fear',\r\n//     src: 'http://localhost:8000/music/Aankhein Milayenge Darr Se Video Song Neerja Sonam Kapoor Prasoon Joshi T-Series.mp3',\r\n//     img: 'http://localhost:8000/images/Aankhein Milayenge Darr Se.jpeg'\r\n// },\r\n// {\r\n//     title: 'Pachtaoge',\r\n//     artist: 'Arijit Singh',\r\n//     emotion: 'Sad',\r\n//     src: 'http://localhost:8000/music/Arijit Singh Pachtaoge Vicky Kaushal, Nora Fatehi Jaani, B Praak, Arvindr Khaira Bhushan K.mp3',\r\n//     img: 'http://localhost:8000/images/Pachtaoge.png'\r\n// }, {\r\n//     title: 'Bhaag D.K Bose',\r\n//     artist: 'Azee Jzee Music',\r\n//     emotion: 'Disgust',\r\n//     src: 'http://localhost:8000/music/Bhaag D.K Bose - Delhi Belly720p HD.mp3',\r\n//     img: 'http://localhost:8000/images/Bhaag DK Bose.jpg'\r\n// }, {\r\n//     title: 'Allare',\r\n//     artist: \"Deepak Bajracharya\",\r\n//     emotion: 'Happy',\r\n//     src: 'http://localhost:8000/music/Deepak Bajracharya - AllareNew Nepali Song.mp3',\r\n//     img: 'http://localhost:8000/images/Allare.jpg'\r\n// }, {\r\n//     title: 'Tu Hi Yaar Mera',\r\n//     artist: 'Rochak,Arijit Singh,Neha Kakkar',\r\n//     emotion: 'Neutral',\r\n//     src: 'http://localhost:8000/music/Full VideoTu Hi Yaar Mera Pati Patni Aur Woh Kartik A,Bhumi P,Ananya P Rochak,Arijit S,Neh.mp3',\r\n//     img: 'http://localhost:8000/images/Tu Hi Yaar Mera.png'\r\n// }, {\r\n//     title: 'Basket Case',\r\n//     artist: 'Green Day',\r\n//     emotion: 'Angry',\r\n//     src: 'http://localhost:8000/music/Green Day - Basket Case [Official Music Video].mp3',\r\n//     img: 'http://localhost:8000/images/Basket Case.jpg'\r\n// }, {\r\n//     title: 'Jaula Relaima',\r\n//     artist: 'Kamal Khatri,Simple Kharel',\r\n//     emotion: 'Neutral',\r\n//     src: 'http://localhost:8000/music/JAULA RELAIMA - Simpal KharelNew Nepali Song 2020Official Music Video ( FEMALE VERSION ).mp3',\r\n//     img: 'http://localhost:8000/images/Jaula Relaima.jfif'\r\n// }, {\r\n//     title: 'JEE KARDA',\r\n//     artist: 'Divya Kumar',\r\n//     emotion: 'Angry',\r\n//     src: 'http://localhost:8000/music/Jee Karda (Official Full Song) Badlapur Varun Dhawan & Yami Gautam.mp3',\r\n//     img: 'http://localhost:8000/images/JEE KARDA.jfif'\r\n// }, {\r\n//     title: 'Absence of fear',\r\n//     artist: 'Jewel',\r\n//     emotion: 'Fear',\r\n//     src: 'http://localhost:8000/music/JEWEL - Absence of fear (with Lyrics).mp3',\r\n//     img: 'http://localhost:8000/images/Absence of fear.jpg'\r\n// }, {\r\n//     title: 'Lai Lai',\r\n//     artist: 'Ketan Chettri',\r\n//     emotion: 'Sad',\r\n//     src: 'http://localhost:8000/music/Lai Lai -Prasad Nepali Movie Lyrical Song Video Bipin Karki, Nischal Basnet, Namrata Shrest.mp3',\r\n//     img: 'http://localhost:8000/images/Lai Lai.jpg'\r\n// },{\r\n//     title: 'Smells Like Teen Spirit',\r\n//     artist: 'Nirvana',\r\n//     emotion: 'Happy',\r\n//     src: 'http://localhost:8000/music/Official Clip from La La Land - John Legend - Start a Fire.mp3',\r\n//     img: 'http://localhost:8000/images/Start A Fire.jfif'\r\n// }, {\r\n//     title: 'Boneyards',\r\n//     artist: 'Parkway Drive',\r\n//     emotion: 'Disgust',\r\n//     src: 'http://localhost:8000/music/Parkway Drive - Boneyards.mp3',\r\n//     img: 'http://localhost:8000/images/Boneyards.jpg'\r\n// }, {\r\n//     title: 'Colors Of The Rainbow',\r\n//     artist: 'Sevenn,Kathy',\r\n//     emotion: 'Neutral',\r\n//     src: 'http://localhost:8000/music/Sevenn feat. Kathy - Colors Of The Rainbow.mp3',\r\n//     img: 'http://localhost:8000/images/Colors Of The Rainbow.jpg'\r\n// }, {\r\n//     title: 'Gala Pukka',\r\n//     artist: 'Sujan Chapagain',\r\n//     emotion: 'Surprise',\r\n//     src: 'http://localhost:8000/music/Sujan ChapagainGala Pukka - Ma Fakauchu Bhanera Hola[Official Lyrical Video].mp3',\r\n//     img: 'http://localhost:8000/images/Gala Pukka.jpg'\r\n// }, {\r\n//     title: 'Take Me To Your Heat',\r\n//     artist: 'Michael Learns To Rock',\r\n//     emotion: 'Happy',\r\n//     src: 'http://localhost:8000/music/Take me to your heart.mp3',\r\n//     img: 'http://localhost:8000/images/Take Me To Your Heat.jpg'\r\n// }, {\r\n//     title: 'Still Dont Seem To Care',\r\n//     artist: 'Talk In Tongues',\r\n//     emotion: 'Disgust',\r\n//     src: 'http://localhost:8000/music/Talk In Tongues - Still Dont Seem To Care (Official Video).mp3',\r\n//     img: 'http://localhost:8000/images/Still Dont Seem To Care.jpg'\r\n// }, {\r\n//     title: 'The Best Day',\r\n//     artist: 'Taylor Swift',\r\n//     emotion: 'Surprise',\r\n//     src: 'http://localhost:8000/music/Taylor Swift - The Best Day.mp3',\r\n//     img: 'http://localhost:8000/images/The Best Day.jpg'\r\n// }, {\r\n//     title: 'Wildest dreams',\r\n//     artist: 'Taylor Swift',\r\n//     emotion: 'Surprise',\r\n//     src: 'http://localhost:8000/music/Taylor Swift - Wildest Dreams.mp3',\r\n//     img: 'http://localhost:8000/images/Wildest dreams.jpg'\r\n// }, {\r\n//     title: 'VIRUS',\r\n//     artist: 'VIRUS-KUSHAL KHATRI',\r\n//     emotion: 'Angry',\r\n//     src: 'http://localhost:8000/music/VIRUS - MR NEPALINEW NEPALI RAP SONG- 2019KUSHAL KHATRI.mp3',\r\n//     img: 'http://localhost:8000/images/VIRUS.jpg'\r\n// }, {\r\n//     title: 'Broken',\r\n//     artist: 'Woren Webbe',\r\n//     emotion: 'Sad',\r\n//     src: 'http://localhost:8000/music/Woren Webbe - Broken Song New English Sad Love Song 2020 R&B 2020.mp3',\r\n//     img: 'http://localhost:8000/images/Broken.jpg'\r\n// }\r\n// ]\r\n// export default songs;\r\n\r\nconst songs = [{\r\n    title: 'Aankhein Milayenge Darr Se',\r\n    artist: 'K. MOHAN,NEHA BHASIN',\r\n    emotion: 'Fear',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741318/music/Aankhein_Milayenge_Darr_Se_Video_Song_Neerja_Sonam_Kapoor_Prasoon_Joshi_T-Series_qupdjj.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803043/images/Aankhein_Milayenge_Darr_Se_jtzgv3.jpg'\r\n},\r\n{\r\n    title: 'Pachtaoge',\r\n    artist: 'Arijit Singh',\r\n    emotion: 'Sad',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741321/music/Arijit_Singh_Pachtaoge_Vicky_Kaushal_Nora_Fatehi_Jaani_B_Praak_Arvindr_Khaira_Bhushan_K_cyqzui.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803046/images/Pachtaoge_o2qqkg.png'\r\n}, {\r\n    title: 'Bhaag D.K Bose',\r\n    artist: 'Azee Jzee Music',\r\n    emotion: 'Disgust',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741337/music/Bhaag_D.K_Bose_-_Delhi_Belly720p_HD_jo0qkq.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803043/images/Bhaag_DK_Bose_w1foi4.jpg'\r\n}, {\r\n    title: 'Allare',\r\n    artist: \"Deepak Bajracharya\",\r\n    emotion: 'Happy',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741330/music/Deepak_Bajracharya_-_AllareNew_Nepali_Song_yyqro0.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803044/images/Allare_vosdbv.jpg'\r\n}, {\r\n    title: 'Start a Fire',\r\n    artist: 'John Legend',\r\n    emotion: 'Neutral',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741303/music/Official_Clip_from_La_La_Land_-_John_Legend_-_Start_a_Fire_ekwcoi.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803045/images/Start_A_Fire_igunjt.jpg'\r\n}, {\r\n    title: 'Basket Case',\r\n    artist: 'Green Day',\r\n    emotion: 'Angry',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741328/music/Green_Day_-_Basket_Case_Official_Music_Video_j2ke2h.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803044/images/Basket_Case_ths2jc.jpg'\r\n}, {\r\n    title: 'Jaula Relaima',\r\n    artist: 'Kamal Khatri,Simple Kharel',\r\n    emotion: 'Neutral',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741332/music/JAULA_RELAIMA_-_Simpal_KharelNew_Nepali_Song_2020Official_Music_Video_FEMALE_VERSION_i9jjso.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803045/images/Jaula_Relaima_id9vfu.jpg'\r\n}, {\r\n    title: 'JEE KARDA',\r\n    artist: 'Divya Kumar',\r\n    emotion: 'Angry',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741331/music/Jee_Karda_Official_Full_Song_Badlapur_Varun_Dhawan___Yami_Gautam_bfb1f7.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803045/images/JEE_KARDA_ctyts5.jpg'\r\n}, {\r\n    title: 'Absence of fear',\r\n    artist: 'Jewel',\r\n    emotion: 'Fear',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741334/music/JEWEL_-_Absence_of_fear_with_Lyrics_nggbwi.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803043/images/Absence_of_fear_hymoo4.jpg'\r\n}, {\r\n    title: 'Lai Lai',\r\n    artist: 'Ketan Chettri',\r\n    emotion: 'Sad',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741336/music/Lai_Lai_-Prasad_Nepali_Movie_Lyrical_Song_Video_Bipin_Karki_Nischal_Basnet_Namrata_Shrest_wf7wvg.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803045/images/Lai_Lai_fmmlmn.jpg'\r\n},{\r\n    title: 'Smells Like Teen Spirit',\r\n    artist: 'Nirvana',\r\n    emotion: 'Happy',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741344/music/Nirvana_-_Smells_Like_Teen_Spirit_Official_Music_Video_etpaaf.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803045/images/Smells_Like_Teen_Spirit_gtcscb.jpg'\r\n}, {\r\n    title: 'Boneyards',\r\n    artist: 'Parkway Drive',\r\n    emotion: 'Disgust',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741304/music/Parkway_Drive_-_Boneyards_sjttzr.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803044/images/Boneyards_ywmot0.jpg'\r\n}, {\r\n    title: 'Colors Of The Rainbow',\r\n    artist: 'Sevenn,Kathy',\r\n    emotion: 'Neutral',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741312/music/Sevenn_feat._Kathy_-_Colors_Of_The_Rainbow_vfrj8n.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803044/images/Colors_Of_The_Rainbow_rni7ij.jpg'\r\n}, {\r\n    title: 'Gala Pukka',\r\n    artist: 'Sujan Chapagain',\r\n    emotion: 'Surprise',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741315/music/Sujan_ChapagainGala_Pukka_-_Ma_Fakauchu_Bhanera_Hola_Official_Lyrical_Video_czz4hk.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803045/images/Gala_Pukka_ext3cn.jpg'\r\n}, {\r\n    title: 'Take Me To Your Heat',\r\n    artist: 'Michael Learns To Rock',\r\n    emotion: 'Happy',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741307/music/Take_me_to_your_heart_hbxc1w.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803046/images/Take_Me_To_Your_Heat_je2b5j.jpg'\r\n}, {\r\n    title: 'Still Dont Seem To Care',\r\n    artist: 'Talk In Tongues',\r\n    emotion: 'Disgust',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741328/music/Talk_In_Tongues_-_Still_Dont_Seem_To_Care_Official_Video_pqcxus.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803046/images/Still_Dont_Seem_To_Care_jhsyu3.jpg'\r\n}, {\r\n    title: 'The Best Day',\r\n    artist: 'Taylor Swift',\r\n    emotion: 'Surprise',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741313/music/Taylor_Swift_-_The_Best_Day_dl8qpv.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803046/images/The_Best_Day_o1yery.jpg'\r\n}, {\r\n    title: 'Wildest dreams',\r\n    artist: 'Taylor Swift',\r\n    emotion: 'Surprise',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741312/music/Taylor_Swift_-_Wildest_Dreams_zoxhna.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803046/images/Wildest_dreams_dfz40b.jpg'\r\n}, {\r\n    title: 'VIRUS',\r\n    artist: 'VIRUS-KUSHAL KHATRI',\r\n    emotion: 'Angry',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741316/music/VIRUS_-_MR_NEPALINEW_NEPALI_RAP_SONG-_2019KUSHAL_KHATRI_id1a0l.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803047/images/VIRUS_rxmjj6.jpg'\r\n}, {\r\n    title: 'Broken',\r\n    artist: 'Woren Webbe',\r\n    emotion: 'Sad',\r\n    src: 'https://res.cloudinary.com/dwlybq7v4/video/upload/v1604741322/music/Woren_Webbe_-_Broken_Song_New_English_Sad_Love_Song_2020_R_B_2020_k8cbdb.mp3',\r\n    img: 'https://res.cloudinary.com/dwlybq7v4/image/upload/v1604803044/images/Broken_bl6kyy.jpg'\r\n}\r\n]\r\nexport default songs;","import React from \"react\";\r\nimport { dispError, dispSuccess } from \"../helpers/toaster\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { setUser } from \"../reduxComponents/action\";\r\nimport { port } from \"../config\";\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setUser: (user) => dispatch(setUser(user)),\r\n  };\r\n};\r\n\r\nclass Form extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      register: false,\r\n      forgotP: false,\r\n      takenEmail: [],\r\n      takenUserName: [],\r\n      formErr: {\r\n        email: \"Empty field\",\r\n        userName: \"Empty field\",\r\n        password: \"Empty field\",\r\n      },\r\n      formDet: {\r\n        email: \"\",\r\n        userName: \"\",\r\n        password: \"\",\r\n      },\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios({\r\n      url: `${port}/auth/checkDuplicate`,\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n      },\r\n      data: {},\r\n    }).then((data) => {\r\n      var takenEmail = [];\r\n      var takenUserName = [];\r\n      data.data.forEach((record) => {\r\n        takenEmail.push(record.email);\r\n        takenUserName.push(record.userName);\r\n      });\r\n\r\n      this.setState({\r\n        takenEmail,\r\n        takenUserName,\r\n      });\r\n    });\r\n  }\r\n\r\n  formChange = (e) => {\r\n    let { name, value } = e.target;\r\n    this.setState(\r\n      (prev) => ({\r\n        formDet: {\r\n          ...prev.formDet,\r\n          [name]: value,\r\n        },\r\n      }),\r\n      () => {\r\n        this.validator(name);\r\n      }\r\n    );\r\n  };\r\n  validator = (name) => {\r\n    if (this.state.formDet[name].length > 0) {\r\n      if (name === \"email\" && !this.state.formDet[name].includes(\"@\")) {\r\n        this.setState((prev) => ({\r\n          formErr: {\r\n            ...prev.formErr,\r\n            [name]: \"Invalid Email\",\r\n          },\r\n        }));\r\n      } else if (\r\n        name === \"email\" &&\r\n        this.state.takenEmail.indexOf(this.state.formDet[name]) > -1\r\n      ) {\r\n        this.setState((prev) => ({\r\n          formErr: {\r\n            ...prev.formErr,\r\n            [name]: name + \" already taken\",\r\n          },\r\n        }));\r\n      } else if (\r\n        name === \"userName\" &&\r\n        this.state.takenUserName.indexOf(this.state.formDet[name]) > -1\r\n      ) {\r\n        this.setState((prev) => ({\r\n          formErr: {\r\n            ...prev.formErr,\r\n            [name]: name + \" already taken\",\r\n          },\r\n        }));\r\n      } else if (name === \"password\" && this.state.formDet[name].length < 8) {\r\n        this.setState((prev) => ({\r\n          formErr: {\r\n            ...prev.formErr,\r\n            [name]: \"Password length less than 8\",\r\n          },\r\n        }));\r\n      } else {\r\n        this.setState((prev) => ({\r\n          formErr: {\r\n            ...prev.formErr,\r\n            [name]: \"\",\r\n          },\r\n        }));\r\n      }\r\n    } else {\r\n      this.setState((prev) => ({\r\n        formErr: {\r\n          ...prev.formErr,\r\n          [name]: \"Empty Field\",\r\n        },\r\n      }));\r\n    }\r\n  };\r\n  submit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.forgotP) {\r\n      let data = {\r\n        email: this.state.formDet.email,\r\n      };\r\n      if (this.state.takenEmail.indexOf(data.email) > -1) {\r\n        axios({\r\n          url: `${port}/auth/forgot-password`,\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          data: data,\r\n        })\r\n          .then((_) => {\r\n            dispSuccess(`We have sent you a message at ${data.email}`);\r\n          })\r\n          .catch((err) => {\r\n            dispError(err);\r\n          });\r\n      } else {\r\n        dispError({\r\n          response: {\r\n            data: {\r\n              msg: \"Email not found!\",\r\n            },\r\n          },\r\n        });\r\n      }\r\n    } else {\r\n      let err = Object.values(this.state.formErr);\r\n      let submit = err.every((err) => err.length === 0);\r\n      if (!this.state.register && !this.state.forgotP) {\r\n        submit = true;\r\n      }\r\n      let url;\r\n      if (this.state.register && !this.state.forgotP) {\r\n        url = `${port}/auth/register`;\r\n      } else {\r\n        url = `${port}/auth/login`;\r\n      }\r\n      if (submit) {\r\n        axios({\r\n          url: url,\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          data: this.state.formDet,\r\n        })\r\n          .then((data) => {\r\n            localStorage.setItem(\"$token$\", JSON.stringify(data.data.token));\r\n\r\n            this.props.setUser(data.data.user);\r\n            dispSuccess(`Hello ${data.data.user.userName}`);\r\n            this.props.dispForm(false);\r\n          })\r\n          .catch((err) => {\r\n            dispError(err);\r\n          });\r\n      }\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <span onClick={() => this.props.dispForm(false)}>&times;</span>\r\n        <main className=\"pa4 black-80\">\r\n          <form className=\"measure center\">\r\n            <fieldset id=\"sign_up\" className=\"ba b--transparent ph0 mh0\">\r\n              <legend className=\"f4 fw6 ph0 mh0\">\r\n                {!this.state.forgotP\r\n                  ? this.state.register\r\n                    ? \"Sign Up\"\r\n                    : \"Sign In\"\r\n                  : \"Forgot-Password\"}\r\n              </legend>\r\n              <div className=\"mt3\">\r\n                {!this.state.forgotP ? (\r\n                  this.state.register ? (\r\n                    <>\r\n                      <label\r\n                        className=\"db fw6 lh-copy f6\"\r\n                        htmlFor=\"email-address\"\r\n                      >\r\n                        Email\r\n                      </label>\r\n                      <input\r\n                        onChange={this.formChange}\r\n                        className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\"\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        id=\"email-address\"\r\n                        value={this.state.formDet.email}\r\n                      />\r\n                      <p style={{ color: \"red\" }}>{this.state.formErr.email}</p>\r\n                      <label className=\"db fw6 lh-copy f6\" htmlFor=\"userName\">\r\n                        Username\r\n                      </label>\r\n                      <input\r\n                        onChange={this.formChange}\r\n                        className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\"\r\n                        type=\"text\"\r\n                        name=\"userName\"\r\n                        value={this.state.formDet.userName}\r\n                        id=\"userName\"\r\n                      />\r\n                      <p style={{ color: \"red\" }}>\r\n                        {this.state.formErr.userName}\r\n                      </p>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <label\r\n                        className=\"db fw6 lh-copy f6\"\r\n                        htmlFor=\"email-address\"\r\n                      >\r\n                        Email or Username\r\n                      </label>\r\n                      <input\r\n                        onChange={this.formChange}\r\n                        className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\"\r\n                        type=\"text\"\r\n                        name=\"userName\"\r\n                        value={this.state.formDet.userName}\r\n                        id=\"userName\"\r\n                      />\r\n                    </>\r\n                  )\r\n                ) : (\r\n                  <>\r\n                    <label\r\n                      className=\"db fw6 lh-copy f6\"\r\n                      htmlFor=\"email-address\"\r\n                    >\r\n                      Email\r\n                    </label>\r\n                    <input\r\n                      onChange={this.formChange}\r\n                      className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\"\r\n                      type=\"text\"\r\n                      name=\"email\"\r\n                      value={this.state.formDet.email}\r\n                      id=\"userName\"\r\n                    />\r\n                  </>\r\n                )}\r\n              </div>\r\n              {!this.state.forgotP ? (\r\n                <div className=\"mv3\">\r\n                  <label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">\r\n                    Password\r\n                  </label>\r\n\r\n                  <input\r\n                    onChange={this.formChange}\r\n                    className=\"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\"\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    id=\"password\"\r\n                    value={this.state.formDet.password}\r\n                  />\r\n                  {this.state.register ? (\r\n                    <p style={{ color: \"red\" }}>\r\n                      {this.state.formErr.password}\r\n                    </p>\r\n                  ) : null}\r\n                </div>\r\n              ) : null}\r\n            </fieldset>\r\n            <div className=\"\">\r\n              {!this.state.forgotP ? (\r\n                !this.state.register ? (\r\n                  <input\r\n                    className=\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\"\r\n                    type=\"submit\"\r\n                    onClick={this.submit}\r\n                    value=\"Sign in\"\r\n                  />\r\n                ) : (\r\n                  <input\r\n                    className=\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\"\r\n                    type=\"submit\"\r\n                    onClick={this.submit}\r\n                    value=\"Sign up\"\r\n                  />\r\n                )\r\n              ) : (\r\n                <input\r\n                  className=\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\"\r\n                  type=\"submit\"\r\n                  onClick={this.submit}\r\n                  value=\"Submit\"\r\n                />\r\n              )}\r\n            </div>\r\n            <div className=\"lh-copy mt3\">\r\n              {!this.state.forgotP ? (\r\n                !this.state.register ? (\r\n                  <>\r\n                    <span\r\n                      className=\"f6 link dim black db\"\r\n                      onClick={() =>\r\n                        this.setState({\r\n                          register: true,\r\n                          formDet: { email: \"\", password: \"\", userName: \"\" },\r\n                          formErr: {\r\n                            email: \"Empty field\",\r\n                            userName: \"Empty field\",\r\n                            password: \"Empty field\",\r\n                          },\r\n                        })\r\n                      }\r\n                    >\r\n                      Sign up\r\n                    </span>\r\n                    <a\r\n                      href=\"#0\"\r\n                      className=\"f6 link dim black db\"\r\n                      onClick={() =>\r\n                        this.setState({\r\n                          forgotP: true,\r\n                        })\r\n                      }\r\n                    >\r\n                      Forgot your password?\r\n                    </a>\r\n                  </>\r\n                ) : (\r\n                  <span\r\n                    className=\"f6 link dim black db\"\r\n                    onClick={() =>\r\n                      this.setState({\r\n                        register: false,\r\n                        formDet: { email: \"\", password: \"\", userName: \"\" },\r\n                        formErr: {\r\n                          email: \"Empty field\",\r\n                          userName: \"Empty field\",\r\n                          password: \"Empty field\",\r\n                        },\r\n                      })\r\n                    }\r\n                  >\r\n                    Sign in\r\n                  </span>\r\n                )\r\n              ) : (\r\n                <span\r\n                  className=\"f6 link dim black db\"\r\n                  onClick={() =>\r\n                    this.setState({\r\n                      forgotP: false,\r\n                      formDet: { email: \"\", password: \"\", userName: \"\" },\r\n                      formErr: {\r\n                        email: \"Empty field\",\r\n                        userName: \"Empty field\",\r\n                        password: \"Empty field\",\r\n                      },\r\n                    })\r\n                  }\r\n                >\r\n                  Go Back\r\n                </span>\r\n              )}\r\n            </div>\r\n          </form>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default connect(null, mapDispatchToProps)(Form);\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom';\r\nconst root = document.getElementById('root');\r\nconst modal = document.getElementById('modal')\r\n\r\nclass Modal extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.el = document.createElement('div')\r\n    }\r\n    componentDidMount(){\r\n        modal.appendChild(this.el)\r\n    }\r\n    componentWillUnmount(){\r\n        modal.removeChild(this.el)\r\n    }\r\n    render(){\r\n        return ReactDOM.createPortal(\r\n            this.props.children,\r\n            this.el\r\n        );\r\n    }\r\n}\r\nexport default Modal","import React, { useRef, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { setUser } from \"../reduxComponents/action\";\r\nimport axios from \"axios\";\r\nimport { dispError, dispSuccess } from \"../helpers/toaster\";\r\nimport { port } from \"../config\";\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setUser: (user) => dispatch(setUser(user)),\r\n  };\r\n};\r\nconst Profile = ({ user, dispProfile }) => {\r\n  const imageUploader = useRef(null);\r\n\r\n  const [image, setImage] = useState(null);\r\n  const styleX = {\r\n    padding: \"20px\",\r\n    borderRadius: \"10px\",\r\n    border: \"1px solid black\",\r\n    fontWeight: \"bold\",\r\n  };\r\n  const updateUserImage = () => {\r\n    imageUploader.current.click();\r\n  };\r\n  const imageChange = (e) => {\r\n    setImage(e.target.files[0]);\r\n  };\r\n  const uploadImage = (_) => {\r\n    if (image) {\r\n      var formData = new FormData();\r\n      formData.append(\"img\", image);\r\n      axios({\r\n        url: `${port}/user/uploadProfileImage`,\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          Authorization: JSON.parse(localStorage.getItem(\"$token$\")),\r\n        },\r\n        data: formData,\r\n      })\r\n        .then((data) => {\r\n          dispSuccess(\"Successfully Updated\");\r\n          setUser(data);\r\n          setImage(null);\r\n        })\r\n        .catch((err) => {\r\n          dispError(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  const cancelProcess = (_) => {\r\n    setImage(null);\r\n  };\r\n  let img = image\r\n    ? URL.createObjectURL(image)\r\n    : `${port}/profile/${user.image}`;\r\n  return (\r\n    <>\r\n      <div className=\"card-container\" style={{ zIndex: \"100\" }}>\r\n        <span onClick={() => dispProfile(false)}>&times;</span>\r\n\r\n        <div className=\"upper-container\">\r\n          <div className=\"image-container\">\r\n            <img src={img} />:\r\n          </div>\r\n          <a\r\n            onClick={() => {\r\n              localStorage.clear();\r\n              setUser(null);\r\n            }}\r\n            href=\"\"\r\n            className=\"f6 pointer link dim ph3 pv2 mb2 dib white bg-dark-gray\"\r\n          >\r\n            Sign Out\r\n          </a>\r\n          <div style={{ float: \"right\", padding: \"20px\", marginRight: \"80px\" }}>\r\n            <h3>{user.userName}</h3>\r\n            <h4>{user.email}</h4>\r\n          </div>\r\n          {image ? (\r\n            <>\r\n              <i\r\n                className=\"fa fa-upload\"\r\n                style={{ position: \"relative\", left: \"40%\", top: \"35%\" }}\r\n                onClick={uploadImage}\r\n              />\r\n              <i\r\n                className=\"fa fa-backspace\"\r\n                style={{ position: \"relative\", left: \"45%\", top: \"35%\" }}\r\n                onClick={cancelProcess}\r\n              />\r\n            </>\r\n          ) : (\r\n            <i\r\n              className=\"fa fa-camera\"\r\n              style={{ position: \"relative\", left: \"30%\", top: \"0%\" }}\r\n              onClick={updateUserImage}\r\n            />\r\n          )}\r\n          <input\r\n            type=\"file\"\r\n            onChange={imageChange}\r\n            style={{ display: \"none\" }}\r\n            ref={imageUploader}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"lower-container\">\r\n          <div>\r\n            <p>Favorite Musics</p>\r\n          </div>\r\n          <div className=\"box\">\r\n            <ul>\r\n              {user.songs.length > 0 ? (\r\n                user.songs.map((song, i) => {\r\n                  return (\r\n                    <li key={song._id}>\r\n                      <span>{song.emotion}</span>\r\n                      {song.title}\r\n                    </li>\r\n                  );\r\n                })\r\n              ) : (\r\n                <li>None</li>\r\n              )}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n","import \"./App.css\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Player from \"./container/player\";\r\nimport songs from \"./helpers/songs\";\r\nimport EmotionCam from \"./container/emotionCam\";\r\nimport Form from \"./container/form\";\r\nimport Modal from \"./portals/modal\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"tachyons\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Profile from \"./container/profile\";\r\nimport axios from \"axios\";\r\nimport { setUser } from \"./reduxComponents/action\";\r\nimport { dispError } from \"./helpers/toaster\";\r\nimport { connect } from \"react-redux\";\r\nimport {port} from './config'\r\n\r\nexport const FormContext = React.createContext();\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setUser: (user) => dispatch(setUser(user)),\r\n  };\r\n};\r\n\r\nfunction App({ setUser }) {\r\n  const [playlistFromEmotion, setPlaylistFromEmotion] = useState(null);\r\n  const [emotionFinder, setEmotionFinder] = useState(false);\r\n  const [formDisplay, setFormDisplay] = useState(false);\r\n  const [profileDisp, setProfileDisp] = useState(false);\r\n  useEffect(() => {\r\n    if(JSON.parse(localStorage.getItem(\"$token$\"))){\r\n      axios({\r\n        url: `${port}/user/loginWithJWT`,\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: JSON.parse(localStorage.getItem(\"$token$\")),\r\n        },\r\n        data: {},\r\n      })\r\n        .then((data) => {\r\n          console.log(data.data);\r\n          setUser(data.data);\r\n        })\r\n        .catch((err) => {\r\n          localStorage.clear();\r\n        });\r\n    }\r\n  }, [JSON.parse(localStorage.getItem(\"$token$\"))]);\r\n  const dispForm = (val) => {\r\n    setFormDisplay(val);\r\n  };\r\n  const setEmPl = (emotion) => {\r\n    setPlaylistFromEmotion(emotion);\r\n    setEmotionFinder(false);\r\n  };\r\n\r\n  const dispProfile = (val) => {\r\n    setProfileDisp(val);\r\n  };\r\n  const findEmotion = (val) => {\r\n    setEmotionFinder(val);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {emotionFinder ? (\r\n        <Modal>\r\n          <EmotionCam setEmPl={setEmPl} findEmotion={findEmotion} />\r\n        </Modal>\r\n      ) : null}\r\n      {formDisplay ? (\r\n        <Modal>\r\n          <Form dispForm={dispForm} />\r\n        </Modal>\r\n      ) : null}\r\n      {profileDisp ? <Profile dispProfile={dispProfile} /> : null}\r\n      <FormContext.Provider value={dispForm}>\r\n        <Player\r\n          allSongs={songs}\r\n          findEmotion={findEmotion}\r\n          playlistFromEmotion={playlistFromEmotion}\r\n          dispProfile={dispProfile}\r\n        />\r\n      </FormContext.Provider>\r\n      <ToastContainer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(App);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\r\n    SET_USER,\r\n   \r\n} from './constants'\r\nconst initialState = {\r\n    user: {},\r\n    getUserLoading: true,\r\n}\r\nexport const setUser = (state = initialState, action) =>{\r\n        switch(action.type){\r\n        case SET_USER:\r\n            return {\r\n                ...state,\r\n                user:action.payload,\r\n                getUserLoading:false\r\n            }\r\n        default: \r\n            return state;\r\n    }\r\n}","\r\nimport webpush from 'web-push'\r\nvar vapidPublicKey = webpush.generateVAPIDKeys().publicKey;\r\nexport default function swDev(){\r\n    function urlBase64ToUint8Array(base64String) {\r\n        const padding = '='.repeat((4 - base64String.length % 4) % 4);\r\n        const base64 = (base64String + padding)\r\n          .replace(/-/g, '+')\r\n          .replace(/_/g, '/');\r\n       \r\n        const rawData = window.atob(base64);\r\n        const outputArray = new Uint8Array(rawData.length);\r\n       \r\n        for (let i = 0; i < rawData.length; ++i) {\r\n          outputArray[i] = rawData.charCodeAt(i);\r\n        }\r\n        return outputArray;\r\n      }\r\n        var convertedVapidKey =  urlBase64ToUint8Array(vapidPublicKey)\r\n\r\n        \r\n    let swURL = `${process.env.PUBLIC_URL}/sw.js`\r\nnavigator.serviceWorker.register(swURL).then(async response=>{\r\n   \r\n    return response.pushManager.getSubscription().then(subscription=>{\r\n                return response.pushManager.subscribe({\r\n            userVisibleOnly:true,\r\n            applicationServerKey:convertedVapidKey\r\n        })\r\n       })\r\n})\r\n.catch(err=>console.error(err))\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, combineReducers } from \"redux\";\r\nimport { createLogger } from \"redux-logger\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {setUser} from './reduxComponents/reducer'\r\nimport swDev from './swDev'\r\n\r\nconst logger = createLogger();\r\nconst store = createStore(\r\n  setUser,\r\n  applyMiddleware(thunkMiddleware, logger)\r\n);\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store = {store}>\r\n    <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\nswDev();\r\n"],"sourceRoot":""}